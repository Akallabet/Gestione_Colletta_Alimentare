<div ng-controller="SupermercatoCtrl">
    <div ng-include="'views/common/menu.html?version={{version}}'"></div>
    <div class="hero-unit">
         <h3>Gestione supermercato</h3>
    </div>
    <div class="container center-container" ng-switch on="generalFeedback.status">
        <p class="loader_supermercati" ng-switch-when="1">
            <span>Attendi... </span>
            <span><i class="fa fa-circle-o-notch fa-spin"></i></span>
        </p>
        <p class="loader_supermercati" ng-switch-when="3">
            <span>Errore... prova a ricaricare la pagina </span>
        </p>
        <form ng-submit="editOrAddSupermercato()" ng-switch-when="2">
            <table class="table table-bordered table-striped table-hover table-container table-condensed">
                <thead>
                    <tr>
                        <th></th>
                        <th></th>
                    <!--
                        <th>Nome</th><th>Indirizzo</th><th>Comune</th><th>Catena</th><th>Area</th>
                    -->
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th>Nome</th>
                        <td class="">
                            <input type="text" class="span2" ng-model="supermercato.info.nome" required/>
                        </td>
                    </tr>
                    <tr>
                        <th>Indirizzo</th>
                        <td>
                            <input type="text" class="span2" ng-model="supermercato.info.indirizzo" required/>
                        </td>
                    </tr>
                    <tr>
                        <th>Comune</th>
                        <td>
                            <select class="filter" ui-select2="{ allowClear: true}" ng-model="supermercato.info.id_comune" placeholder="Comune" required>
                                <option ng-value=""></option>
                                <option ng-value="comune.id" ng-repeat="comune in comuni">{{comune.nome}}</option>
                            </select>
                        </td>
                    <tr>
                        <th>Catena</th>
                        <td>
                            <select class="filter" ui-select2="{ allowClear: true}" ng-model="supermercato.info.id_catena" placeholder="Catena" required>
                                <option ng-value=""></option>
                                <option ng-value="catena.id" ng-repeat="catena in catene">{{catena.nome}}</option>
                            </select>
                        </td>
                    </tr>
                    <tr ng-if="user.privilegi==1">
                        <th>Area</th>
                        <td>
                            <select class="filter" ui-select2="{ allowClear: true}" ng-model="supermercato.info.id_area" placeholder="Area" required>
                                <option ng-value=""></option>
                                <option ng-value="area.id" ng-repeat="area in aree">{{area.nome}}</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th>Capo equipe</th>
                        <td>
                            <select class="filter" ui-select2="{ allowClear: true}" ng-model="supermercato.info.capo_equipe.id" placeholder="Capo equipe">
                                <option ng-value=""></option>
                                <option ng-value="capo_equipe.id" ng-repeat="capo_equipe in capi_equipe">{{capo_equipe.nome}}</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td style="width: 300px;">
                            <button class="btn btn-primary pull-left">ok</button>        
                            <div ng-switch="feedback.status" style="margin: 0 0 0 10px; float: left;">
                                <span ng-switch-when="1">
                                    <i class="fa fa-circle-o-notch fa-spin"></i>
                                </span>
                                <span ng-switch-when="2">
                                    <i class="fa fa-check"></i>
                                </span>
                                <span ng-switch-when="3">
                                    {{feedback.message[0]}}
                                </span>
                            </div>
                        </td>
                        <td>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </form>
    </div>
</div>
