(function(e){e.fn.each2===void 0&&e.fn.extend({each2:function(t){for(var n=e([0]),i=-1,a=this.length;a>++i&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})})(jQuery),function(e,t){"use strict";function n(e,t){for(var n=0,i=t.length;i>n;n+=1)if(a(e,t[n]))return n;return-1}function i(){var t=e(N);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function a(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function o(t,n){var i,a,o;if(null===t||1>t.length)return[];for(i=t.split(n),a=0,o=i.length;o>a;a+=1)i[a]=e.trim(i[a]);return i}function s(e){return e.outerWidth(!1)-e.width()}function r(n){var i="keyup-change-value";n.on("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.on("keyup",function(){var a=e.data(n,i);a!==t&&n.val()!==a&&(e.removeData(n,i),n.trigger("keyup-change"))})}function l(n){n.on("mousemove",function(n){var i=M;(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function c(e,n,i){i=i||t;var a;return function(){var t=arguments;window.clearTimeout(a),a=window.setTimeout(function(){n.apply(i,t)},e)}}function u(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function h(e,t){var i=c(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){n(e.target,t.get())>=0&&i(e)})}function p(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus(),e.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function d(t){t=e(t)[0];var n=0,i=0;if("selectionStart"in t)n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var a=document.selection.createRange();i=document.selection.createRange().text.length,a.moveStart("character",-t.value.length),n=a.text.length-i}return{offset:n,length:i}}function f(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function g(t){if(!I){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);I=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),I.attr("class","select2-sizer"),e("body").append(I)}return I.text(t.val()),I.width()}function v(t,n,i){var a,o,s=[];a=t.attr("class"),a&&(a=""+a,e(a.split(" ")).each2(function(){0===this.indexOf("select2-")&&s.push(this)})),a=n.attr("class"),a&&(a=""+a,e(a.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&s.push(this))})),t.attr("class",s.join(" "))}function b(e,n,i,a){var o=e.toUpperCase().indexOf(n.toUpperCase()),s=n.length;return 0>o?(i.push(a(e)),t):(i.push(a(e.substring(0,o))),i.push("<span class='select2-match'>"),i.push(a(e.substring(o,o+s))),i.push("</span>"),i.push(a(e.substring(o+s,e.length))),t)}function w(n){var i,a=0,o=null,s=n.quietMillis||100,r=n.url,l=this;return function(c){window.clearTimeout(i),i=window.setTimeout(function(){a+=1;var i=a,s=n.data,u=r,h=n.transport||e.fn.select2.ajaxDefaults.transport,p={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,p);s=s?s.call(l,c.term,c.page,c.context):null,u="function"==typeof u?u.call(l,c.term,c.page,c.context):u,null!==o&&o.abort(),n.params&&(e.isFunction(n.params)?e.extend(d,n.params.call(l)):e.extend(d,n.params)),e.extend(d,{url:u,dataType:n.dataType,data:s,success:function(e){if(!(a>i)){var t=n.results(e,c.page);c.callback(t)}}}),o=h.call(l,d)},s)}}function y(n){var i,a,o=n,s=function(e){return""+e.text};e.isArray(o)&&(a=o,o={results:a}),e.isFunction(o)===!1&&(a=o,o=function(){return a});var r=o();return r.text&&(s=r.text,e.isFunction(s)||(i=r.text,s=function(e){return e[i]})),function(n){var i,a=n.term,r={results:[]};return""===a?(n.callback(o()),t):(i=function(t,o){var r,l;if(t=t[0],t.children){r={};for(l in t)t.hasOwnProperty(l)&&(r[l]=t[l]);r.children=[],e(t.children).each2(function(e,t){i(t,r.children)}),(r.children.length||n.matcher(a,s(r),t))&&o.push(r)}else n.matcher(a,s(t),t)&&o.push(t)},e(o().results).each2(function(e,t){i(t,r.results)}),n.callback(r),t)}}function $(n){var i=e.isFunction(n);return function(a){var o=a.term,s={results:[]};e(i?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===o||a.matcher(o,n))&&s.results.push(e?this:{id:this,text:this})}),a.callback(s)}}function C(t){if(e.isFunction(t))return!0;if(!t)return!1;throw Error("formatterName must be a function or a falsy value")}function k(t){return e.isFunction(t)?t():t}function S(t){var n=0;return e.each(t,function(e,t){t.children?n+=S(t.children):n++}),n}function x(e,n,i,o){var s,r,l,c,u,h=e,p=!1;if(!o.createSearchChoice||!o.tokenSeparators||1>o.tokenSeparators.length)return t;for(;;){for(r=-1,l=0,c=o.tokenSeparators.length;c>l&&(u=o.tokenSeparators[l],r=e.indexOf(u),!(r>=0));l++);if(0>r)break;if(s=e.substring(0,r),e=e.substring(r+u.length),s.length>0&&(s=o.createSearchChoice(s,n),s!==t&&null!==s&&o.id(s)!==t&&null!==o.id(s))){for(p=!1,l=0,c=n.length;c>l;l++)if(a(o.id(s),o.id(n[l]))){p=!0;break}p||i(s)}}return h!==e?e:t}function E(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var T,D,A,O,P,I,M,F,H,T={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case T.LEFT:case T.RIGHT:case T.UP:case T.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case T.SHIFT:case T.CTRL:case T.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},N="<div class='select2-measure-scrollbar'></div>";F=e(document),P=function(){var e=1;return function(){return e++}}(),F.on("mousemove",function(e){M={x:e.pageX,y:e.pageY}}),D=E(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var a,o,s,c,p=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&this.destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+P()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=u(function(){return n.element.closest("body")}),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(k(n.containerCss)),this.container.addClass(k(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(k(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=a=this.container.find(p),this.search=o=this.container.find("input.select2-input"),this.resultsPage=0,this.context=null,this.initContainer(),l(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",p,this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.on("scroll-debounced",p,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&a.mousewheel(function(e,t,n,i){var o=a.scrollTop();i>0&&0>=o-i?(a.scrollTop(0),f(e)):0>i&&a.get(0).scrollHeight-a.scrollTop()+i<=a.height()&&(a.scrollTop(a.get(0).scrollHeight-a.height()),f(e))}),r(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",p,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var s=n.element.prop("disabled");s===t&&(s=!1),this.enable(!s);var c=n.element.prop("readonly");c===t&&(c=!1),this.readonly(c),H=H||i(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus()},destroy:function(){var e=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeClass("select2-offscreen").removeData("select2").off(".select2").attr({tabindex:this.elementTabIndex}).prop("autofocus",this.autofocus||!1).show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:a(e.attr("locked"),"locked")}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:t},prepareOpts:function(n){var i,s,r,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=s=n.element),s&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,a,o){var s,r=this.opts.id;s=function(i,a,l){var u,h,p,d,f,m,g,v,b,w;for(i=n.sortResults(i,a,o),u=0,h=i.length;h>u;u+=1)p=i[u],f=p.disabled===!0,d=!f&&r(p)!==t,m=p.children&&p.children.length>0,g=e("<li></li>"),g.addClass("select2-results-dept-"+l),g.addClass("select2-result"),g.addClass(d?"select2-result-selectable":"select2-result-unselectable"),f&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(c.opts.formatResultCssClass(p)),v=e(document.createElement("div")),v.addClass("select2-result-label"),w=n.formatResult(p,v,o,c.opts.escapeMarkup),w!==t&&v.html(w),g.append(v),m&&(b=e("<ul></ul>"),b.addClass("select2-result-sub"),s(p.children,b,l+1),g.append(b)),g.data("select2-data",p),a.append(g)},s(a,i,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(r=n.id,n.id=function(e){return e[r]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(s?(n.query=this.bind(function(n){var a,o,s,r={results:[],more:!1},l=n.term;s=function(e,t){var i;e.is("option")?n.matcher(l,e.text(),e)&&t.push(c.optionToData(e)):e.is("optgroup")&&(i=c.optionToData(e),e.children().each2(function(e,t){s(t,i.children)}),i.children.length>0&&t.push(i))},a=i.children(),this.getPlaceholder()!==t&&a.length>0&&(o=a[0],""===e(o).text()&&(a=a.not(o))),a.each2(function(e,t){s(t,r.results)}),n.callback(r)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=w.call(n.element,n.ajax)):"data"in n?n.query=y(n.data):"tags"in n&&(n.query=$(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(e){return{id:e,text:e}}),n.initSelection===t&&(n.initSelection=function(i,s){var r=[];e(o(i.val(),n.separator)).each(function(){var i=this,o=this,s=n.tags;e.isFunction(s)&&(s=s()),e(s).each(function(){return a(this.id,i)?(o=this.text,!1):t}),r.push({id:i,text:o})}),s(r)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e,n=this.opts.element;n.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e,i=n.prop("disabled");i===t&&(i=!1),this.enable(!i);var e=n.prop("readonly");e===t&&(e=!1),this.readonly(e),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(k(this.opts.containerCssClass)),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(k(this.opts.dropdownCssClass))}),n.on("propertychange.select2 DOMAttrModified.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){return e===t&&(e=!0),this._enabled===e?!1:(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface(),!0)},readonly:function(e){return e===t&&(e=!1),this._readonly===e?!1:(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,i,a,o=this.dropdown,s=this.container.offset(),r=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=o.outerHeight(!1),u=e(window).scrollLeft()+e(window).width(),h=e(window).scrollTop()+e(window).height(),p=s.top+r,d=s.left,f=h>=p+c,m=s.top-c>=this.body().scrollTop(),g=o.outerWidth(!1),v=u>=d+g,b=o.hasClass("select2-drop-above");this.opts.dropdownAutoWidth?(a=e(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),g=o.outerWidth(!1)+(a.scrollHeight===a.clientHeight?0:H.width),g>l?l=g:g=l,v=u>=d+g):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),p-=t.top,d-=t.left),b?(n=!0,!m&&f&&(n=!1)):(n=!1,!f&&m&&(n=!0)),v||(d=s.left+l-g),n?(p=s.top-c,this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),i=e.extend({top:p,left:d,width:l},k(this.opts.dropdownCss)),o.css(i)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){function t(){return{width:Math.max(document.documentElement.scrollWidth,e(window).width()),height:Math.max(document.documentElement.scrollHeight,e(window).height())}}var n,i=this.containerId,a="scroll."+i,o="resize."+i,s="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),n=e("#select2-drop-mask"),0==n.length&&(n=e(document.createElement("div")),n.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),n.hide(),n.appendTo(this.body()),n.on("mousedown touchstart",function(t){var n,i=e("#select2-drop");i.length>0&&(n=i.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close(),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==n[0]&&this.dropdown.before(n),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),n.css(t()),n.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var r=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+a+" "+s,function(){e("#select2-drop-mask").css(t()),r.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,i="resize."+t,a="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(i).off(a)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return k(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var n,i,a,o,s,r,l,c=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return c.scrollTop(0),t;n=this.findHighlightableChoices().find(".select2-result-label"),a=e(n[i]),o=a.offset().top+a.outerHeight(!0),i===n.length-1&&(l=c.find("li.select2-more-results"),l.length>0&&(o=l.offset().top+l.outerHeight(!0))),s=c.offset().top+c.outerHeight(!0),o>s&&c.scrollTop(c.scrollTop()+(o-s)),r=a.offset().top-c.offset().top,0>r&&"none"!=a.css("display")&&c.scrollTop(c.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&n.length>i;){i+=t;var a=e(n[i]);if(a.hasClass("select2-result-selectable")&&!a.hasClass("select2-disabled")&&!a.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(i){var a,o,s=this.findHighlightableChoices();return 0===arguments.length?n(s.filter(".select2-highlighted")[0],s.get()):(i>=s.length&&(i=s.length-1),0>i&&(i=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),a=e(s[i]),a.addClass("select2-highlighted"),this.ensureHighlightVisible(),o=a.data("select2-data"),o&&this.opts.element.trigger({type:"select2-highlight",val:this.id(o),choice:o}),t)},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,a=this,o=this.search.val(),s=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),this.opts.loadMorePadding>=e&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:s,matcher:this.opts.matcher,callback:this.bind(function(e){a.opened()&&(a.opts.populateResults.call(this,t,e.results,{term:o,page:i,context:s}),a.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(a.opts.formatLoadMore(i+1)),window.setTimeout(function(){a.loadMoreIfNeeded()},10)):n.remove(),a.positionDropdown(),a.resultsPage=i,a.context=e.context)})})))},tokenize:function(){},updateResults:function(n){function i(){c.scrollTop(0),l.removeClass("select2-active"),h.positionDropdown()}function o(e){c.html(e),i()}var s,r,l=this.search,c=this.results,u=this.opts,h=this,p=l.val(),d=e.data(this.container,"select2-last-term");if((n===!0||!d||!a(p,d))&&(e.data(this.container,"select2-last-term",p),n===!0||this.showSearchInput!==!1&&this.opened())){var f=this.getMaximumSelectionSize();if(f>=1&&(s=this.data(),e.isArray(s)&&s.length>=f&&C(u.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(f)+"</li>"),t;if(l.val().length<u.minimumInputLength)return C(u.formatInputTooShort,"formatInputTooShort")?o("<li class='select2-no-results'>"+u.formatInputTooShort(l.val(),u.minimumInputLength)+"</li>"):o(""),n&&this.showSearch(!0),t;if(u.maximumInputLength&&l.val().length>u.maximumInputLength)return C(u.formatInputTooLong,"formatInputTooLong")?o("<li class='select2-no-results'>"+u.formatInputTooLong(l.val(),u.maximumInputLength)+"</li>"):o(""),t;u.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+u.formatSearching()+"</li>"),l.addClass("select2-active"),r=this.tokenize(),r!=t&&null!=r&&l.val(r),this.resultsPage=1,u.query({element:u.element,term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(s){var r;return this.opened()?(this.context=s.context===t?null:s.context,this.opts.createSearchChoice&&""!==l.val()&&(r=this.opts.createSearchChoice.call(null,l.val(),s.results),r!==t&&null!==r&&h.id(r)!==t&&null!==h.id(r)&&0===e(s.results).filter(function(){return a(h.id(this),h.id(r))}).length&&s.results.unshift(r)),0===s.results.length&&C(u.formatNoMatches,"formatNoMatches")?(o("<li class='select2-no-results'>"+u.formatNoMatches(l.val())+"</li>"),t):(c.empty(),h.opts.populateResults.call(this,c,s.results,{term:l.val(),page:this.resultsPage,context:null}),s.more===!0&&C(u.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(s,n),i(),this.opts.element.trigger({type:"select2-loaded",data:s}),t)):(this.search.removeClass("select2-active"),t)})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i&&(this.highlight(t),this.onSelect(i,e))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,i,a,o,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),o=0,s=i.length;s>o;o+=1)if(a=i[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==a&&a.length>=1)return a[1];return n=this.opts.element.css("width"),n&&n.length>0?n:"resolve"===this.opts.width?0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),A=E(D,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,n;this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),t=this.search.get(0),t.createTextRange&&(n=t.createTextRange(),n.collapse(!1),n.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var n,i=this.container,a=this.dropdown;this.showSearch(!1),this.selection=n=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+P()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===T.PAGE_UP||e.which===T.PAGE_DOWN)return f(e),t;switch(e.which){case T.UP:case T.DOWN:return this.moveHighlight(e.which===T.UP?-1:1),f(e),t;case T.ENTER:return this.selectHighlighted(),f(e),t;case T.TAB:return this.selectHighlighted({noFocus:!0}),t;case T.ESC:return this.cancel(e),f(e),t}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){return!this.isInterfaceEnabled()||e.which===T.TAB||T.isControl(e)||T.isFunctionKey(e)||e.which===T.ESC?t:this.opts.openOnEnter===!1&&e.which===T.ENTER?(f(e),t):e.which==T.DOWN||e.which==T.UP||e.which==T.ENTER&&this.opts.openOnEnter?(this.open(),f(e),t):e.which==T.DELETE||e.which==T.BACKSPACE?(this.opts.allowClear&&this.clear(),f(e),t):t})),r(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){e.stopPropagation(),this.opened()||this.open()})),n.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection.focus())})),n.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),f(t)})),a.on("mousedown",this.bind(function(){this.search.focus()})),n.on("focus",this.bind(function(e){f(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");t&&(this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t})))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.updateSelection([]),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find(":selected");t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var o=n.val(),s=null;t.query({matcher:function(e,n,i){var r=a(o,t.id(i));return r&&(s=i),r},callback:e.isFunction(i)?function(){i(s)}:e.noop})}),t},getPlaceholder:function(){return this.select&&""!==this.select.find("option").first().text()?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(""===this.opts.element.val()&&e!==t){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,n,i){var o=0,s=this;if(this.findHighlightableChoices().each2(function(e,n){return a(s.id(n.data("select2-data")),s.opts.element.val())?(o=e,!1):t}),i!==!1&&this.highlight(o),n===!0&&this.showSearchInput===!1){var r=this.opts.minimumResultsForSearch;r>=0&&this.showSearch(S(e.results)>=r)}},showSearch:function(t){this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t)},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.close(),t&&t.noFocus||this.selection.focus(),a(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n,i=this.selection.find("span");this.selection.data("select2-data",e),i.empty(),n=this.opts.formatSelection(e,i),n!==t&&i.append(this.opts.escapeMarkup(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,i=null,a=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find(":selected").each2(function(e,t){return i=a.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:o});else{if(this.opts.initSelection===t)throw Error("cannot call val() if initSelection() is not defined");if(!e&&0!==e)return this.clear(n),t;this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){a.opts.element.val(e?a.id(e):""),a.updateSelection(e),a.setPlaceholder(),n&&a.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e,n){var i;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),i):(e&&""!==e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:i})):this.clear(n),t)}}),O=E(D,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));
return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find(":selected").each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var s=o(n.val(),t.separator),r=[];t.query({matcher:function(n,i,o){var l=e.grep(s,function(e){return a(e,t.id(o))}).length;return l&&r.push(o),l},callback:e.isFunction(i)?function(){for(var e=[],n=0;s.length>n;n++)for(var o=s[n],l=0;r.length>l;l++){var c=r[l];if(a(o,t.id(c))){e.push(c),r.splice(l,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},initContainer:function(){var n,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=n=this.container.find(i);var a=this;this.selection.on("mousedown",".select2-search-choice",function(){a.search[0].focus(),a.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+P()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var i=n.find(".select2-search-choice-focus"),a=i.prev(".select2-search-choice:not(.select2-locked)"),o=i.next(".select2-search-choice:not(.select2-locked)"),s=d(this.search);if(i.length&&(e.which==T.LEFT||e.which==T.RIGHT||e.which==T.BACKSPACE||e.which==T.DELETE||e.which==T.ENTER)){var r=i;return e.which==T.LEFT&&a.length?r=a:e.which==T.RIGHT?r=o.length?o:null:e.which===T.BACKSPACE?(this.unselect(i.first()),this.search.width(10),r=a.length?a:o):e.which==T.DELETE?(this.unselect(i.first()),this.search.width(10),r=o.length?o:null):e.which==T.ENTER&&(r=null),this.selectChoice(r),f(e),r&&r.length||this.open(),t}if((e.which===T.BACKSPACE&&1==this.keydowns||e.which==T.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(n.find(".select2-search-choice:not(.select2-locked)").last()),f(e),t;if(this.selectChoice(null),this.opened())switch(e.which){case T.UP:case T.DOWN:return this.moveHighlight(e.which===T.UP?-1:1),f(e),t;case T.ENTER:return this.selectHighlighted(),f(e),t;case T.TAB:return this.selectHighlighted({noFocus:!0}),t;case T.ESC:return this.cancel(e),f(e),t}if(e.which!==T.TAB&&!T.isControl(e)&&!T.isFunctionKey(e)&&e.which!==T.BACKSPACE&&e.which!==T.ESC){if(e.which===T.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===T.PAGE_UP||e.which===T.PAGE_DOWN)&&f(e),e.which===T.ENTER&&f(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("mousedown",i,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],a=[],o=this;e(t).each(function(){0>n(o.id(this),i)&&(i.push(o.id(this)),a.push(this))}),t=a,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,a=!n.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),r=a?o:s,l=this.id(n),c=this.getVal();i=this.opts.formatSelection(n,r.find("div")),i!=t&&r.find("div").replaceWith("<div title='"+this.opts.escapeMarkup(i)+"'>"+this.opts.escapeMarkup(i)+"</div>"),a&&r.find(".select2-search-choice-close").on("mousedown",f).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),f(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),r.data("select2-data",n),r.insertBefore(this.searchContainer),c.push(l),this.setVal(c)},unselect:function(e){var t,i,a=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),t&&(i=n(this.id(t),a),i>=0&&(a.splice(i,1),this.setVal(a),this.select&&this.postprocessResults()),e.remove(),this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))},postprocessResults:function(e,t,i){var a=this.getVal(),o=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),r=this;o.each2(function(e,t){var i=r.id(t.data("select2-data"));n(i,a)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&i!==!1&&r.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&this.results.append("<li class='select2-no-results'>"+r.opts.formatNoMatches(r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-s(this.search)},resizeSearch:function(){var e,t,n,i,a,o=s(this.search);e=g(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,a=n-(t-i)-o,e>a&&(a=n-o),40>a&&(a=n-o),0>=a&&(a=e),this.search.width(a)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),o(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){0>n(this,i)&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;t.length>n;n++)for(var i=0;e.length>i;i++)a(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var a,o=this;if(0===arguments.length)return this.getVal();if(a=this.data(),a.length||(a=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),i&&this.triggerChange({added:this.data(),removed:a}),t;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(a,this.data()));else{if(this.opts.initSelection===t)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e(t).map(o.id);o.setVal(n),o.updateSelection(t),o.clearSearch(),i&&o.triggerChange(this.buildChangeDetails(a,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(n,i){var a,o,s=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(o=this.data(),n||(n=[]),a=e.map(n,function(e){return s.opts.id(e)}),this.setVal(a),this.updateSelection(n),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(o,this.data())),t)}}),e.fn.select2=function(){var i,a,o,s,r=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","readonly","positionDropdown","data"],c=["val","opened","isFocused","container","data"];return this.each(function(){if(0===r.length||"object"==typeof r[0])i=0===r.length?{}:e.extend({},r[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?s=i.element.prop("multiple"):(s=i.multiple||!1,"tags"in i&&(i.multiple=s=!0)),a=s?new O:new A,a.init(i);else{if("string"!=typeof r[0])throw"Invalid arguments to select2 plugin: "+r;if(0>n(r[0],l))throw"Unknown method: "+r[0];if(o=t,a=e(this).data("select2"),a===t)return;if(o="container"===r[0]?a.container:a[r[0]].apply(a,r.slice(1)),n(r[0],c)>=0)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var a=[];return b(e.text,n.term,a,i),a.join("")},formatSelection:function(e){return e?e.text:t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return(""+t).toUpperCase().indexOf((""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:x,escapeMarkup:function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return(e+"").replace(/[&<>"'\/\\]/g,function(e){return t[e]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:w,local:y,tags:$},util:{debounce:c,markMatch:b},"class":{"abstract":D,single:A,multi:O}}}}(jQuery),function(e,t){"use strict";function n(e,t){return l(new(l(function(){},{prototype:e})),t)}function i(){function e(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},a=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(e,t,n,i){var o="?"===i?i:null,s="*"===i?i:null;return a.push({name:n,optional:!!o}),t=t||"",""+(o?"":t)+"(?:"+(o?t:"")+(s&&"(.+)?"||"([^/]+)?")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=RegExp("^"+e+"$",n?"i":""),i}var t={};this.when=function(n,i){if(t[n]=l({reloadOnSearch:!0},i,n&&e(n,i)),n){var a="/"==n[n.length-1]?n.substr(0,n.length-1):n+"/";t[a]=l({redirectTo:n},e(a,i))}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(e,i,a,o,d,f,m,g){function v(e,t){var n=t.keys,i={};if(!t.regexp)return null;var a=t.regexp.exec(e);if(!a)return null;for(var o=1,s=a.length;s>o;++o){var r=n[o-1],l="string"==typeof a[o]?decodeURIComponent(a[o]):a[o];r&&l&&(i[r.name]=l)}return i}function b(){var t=w(),n=C.current;t&&n&&t.$$route===n.$$route&&r(t.pathParams,n.pathParams)&&!t.reloadOnSearch&&!$?(n.params=t.params,s(n.params,a),e.$broadcast("$routeUpdate",n)):(t||n)&&($=!1,e.$broadcast("$routeChangeStart",t,n),C.current=t,t&&t.redirectTo&&(p(t.redirectTo)?i.path(y(t.redirectTo,t.params)).search(t.params).replace():i.url(t.redirectTo(t.pathParams,i.path(),i.search())).replace()),o.when(t).then(function(){if(t){var e,n,i=l({},t.resolve);return c(i,function(e,t){i[t]=p(e)?d.get(e):d.invoke(e)}),u(e=t.template)?h(e)&&(e=e(t.params)):u(n=t.templateUrl)&&(h(n)&&(n=n(t.params)),n=g.getTrustedResourceUrl(n),u(n)&&(t.loadedTemplateUrl=n,e=f.get(n,{cache:m}).then(function(e){return e.data}))),u(e)&&(i.$template=e),o.all(i)}}).then(function(i){t==C.current&&(t&&(t.locals=i,s(t.params,a)),e.$broadcast("$routeChangeSuccess",t,n))},function(i){t==C.current&&e.$broadcast("$routeChangeError",t,n,i)}))}function w(){var e,a;return c(t,function(t){!a&&(e=v(i.path(),t))&&(a=n(t,{params:l({},i.search(),e),pathParams:e}),a.$$route=t)}),a||t[null]&&n(t[null],{params:{},pathParams:{}})}function y(e,t){var n=[];return c((e||"").split(":"),function(e,i){if(0===i)n.push(e);else{var a=e.match(/(\w+)(.*)/),o=a[1];n.push(t[o]),n.push(a[2]||""),delete t[o]}}),n.join("")}var $=!1,C={routes:t,reload:function(){$=!0,e.$evalAsync(b)}};return e.$on("$locationChangeSuccess",b),C}]}function a(){this.$get=function(){return{}}}function o(e,t,n,i,a){return{restrict:"ECA",terminal:!0,priority:1e3,transclude:"element",compile:function(o,s,r){return function(o,s,l){function c(){h&&(h.$destroy(),h=null),p&&(a.leave(p),p=null)}function u(){var l=e.current&&e.current.locals,u=l&&l.$template;if(u){var f=o.$new();r(f,function(o){c(),o.html(u),a.enter(o,null,s);var r=n(o.contents()),m=e.current;if(h=m.scope=f,p=o,m.controller){l.$scope=h;var g=i(m.controller,l);m.controllerAs&&(h[m.controllerAs]=g),o.data("$ngControllerController",g),o.contents().data("$ngControllerController",g)}r(h),h.$emit("$viewContentLoaded"),h.$eval(d),t()})}else c()}var h,p,d=l.onload||"";o.$on("$routeChangeSuccess",u),u()}}}}var s=t.copy,r=t.equals,l=t.extend,c=t.forEach,u=t.isDefined,h=t.isFunction,p=t.isString;t.element,t.noop,t.toJson;var d=t.module("ngRoute",["ng"]).provider("$route",i);d.provider("$routeParams",a),d.directive("ngView",o),o.$inject=["$route","$anchorScroll","$compile","$controller","$animate"]}(window,window.angular),function(e,t,n){"use strict";var i=t.$$minErr("$resource");t.module("ngResource",["ng"]).factory("$resource",["$http","$parse","$q",function(e,a,o){function s(e){return r(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function r(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function l(e,t){this.template=e,this.defaults=t||{},this.urlParams={}}function c(a,s,r){function v(e,t){var n={};return t=d({},s,t),p(t,function(t,i){m(t)&&(t=t()),n[i]=t&&t.charAt&&"@"==t.charAt(0)?g(e,t.substr(1)):t}),n}function b(e){return e.resource}function w(e){f(e||{},this)}var y=new l(a);return r=d({},u,r),p(r,function(a,s){var r=/^(POST|PUT|PATCH)$/i.test(a.method);w[s]=function(s,l,c,u){var g,$,C,k={};switch(arguments.length){case 4:C=u,$=c;case 3:case 2:if(!m(l)){k=s,g=l,$=c;break}if(m(s)){$=s,C=l;break}$=l,C=c;case 1:m(s)?$=s:r?g=s:k=s;break;case 0:break;default:throw i("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var S=g instanceof w,x=S?g:a.isArray?[]:new w(g),E={},T=a.interceptor&&a.interceptor.response||b,D=a.interceptor&&a.interceptor.responseError||n;p(a,function(e,t){"params"!=t&&"isArray"!=t&&"interceptor"!=t&&(E[t]=f(e))}),E.data=g,y.setUrlParams(E,d({},v(g,a.params||{}),k),a.url);var A=e(E).then(function(e){var n=e.data,o=x.$promise;if(n){if(t.isArray(n)!=!!a.isArray)throw i("badcfg","Error in resource configuration. Expected response to contain an {0} but got an {1}",a.isArray?"array":"object",t.isArray(n)?"array":"object");a.isArray?(x.length=0,p(n,function(e){x.push(new w(e))})):(f(n,x),x.$promise=o)}return x.$resolved=!0,($||h)(x,e.headers),e.resource=x,e},function(e){return x.$resolved=!0,(C||h)(e),o.reject(e)}).then(T,D);return S?A:(x.$promise=A,x.$resolved=!1,x)},w.prototype["$"+s]=function(e,t,n){m(e)&&(n=t,t=e,e={});var i=w[s](e,this,t,n);return i.$promise||i}}),w.bind=function(e){return c(a,d({},s,e),r)},w}var u={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},h=t.noop,p=t.forEach,d=t.extend,f=t.copy,m=t.isFunction,g=function(e,t){return a(t)(e)};return l.prototype={setUrlParams:function(e,n,i){var a,o,r=this,l=i||r.template,c=r.urlParams={};p(l.split(/\W/),function(e){!RegExp("^\\d+$").test(e)&&e&&RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(c[e]=!0)}),l=l.replace(/\\:/g,":"),n=n||{},p(r.urlParams,function(e,i){a=n.hasOwnProperty(i)?n[i]:r.defaults[i],t.isDefined(a)&&null!==a?(o=s(a),l=l.replace(RegExp(":"+i+"(\\W|$)","g"),o+"$1")):l=l.replace(RegExp("(/?):"+i+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),l=l.replace(/\/+$/,""),l=l.replace(/\/\.(?=\w+($|\?))/,"."),e.url=l.replace(/\/\\\./,"/."),p(n,function(t,n){r.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},c}])}(window,window.angular),function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,i){function a(){var e,a,o,l;for(e in r)u(s[e])&&i.cookies(e,n);for(e in s)a=s[e],t.isString(a)?a!==r[e]&&(i.cookies(e,a),l=!0):t.isDefined(r[e])?s[e]=r[e]:delete s[e];if(l){l=!1,o=i.cookies();for(e in s)s[e]!==o[e]&&(u(o[e])?delete s[e]:s[e]=o[e],l=!0)}}var o,s={},r={},l=!1,c=t.copy,u=t.isUndefined;return i.addPollFn(function(){var t=i.cookies();o!=t&&(o=t,c(t,r),c(t,s),l&&e.$apply())})(),l=!0,e.$watch(a),s}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){var i=e[n];return i?t.fromJson(i):i},put:function(n,i){e[n]=t.toJson(i)},remove:function(t){delete e[t]}}}])}(window,window.angular),function(e,t){"use strict";function n(e){var t,n={},i=e.split(",");for(t=0;i.length>t;t++)n[i[t]]=!0;return n}function i(e,n){function i(e,i,s,r){if(i=t.lowercase(i),C[i])for(;v.last()&&k[v.last()];)o("",v.last());$[i]&&v.last()==i&&o("",i),r=b[i]||!!r,r||v.push(i);var l={};s.replace(h,function(e,t,n,i,o){var s=n||i||o||"";l[t]=a(s)}),n.start&&n.start(i,l,r)}function o(e,i){var a,o=0;if(i=t.lowercase(i))for(o=v.length-1;o>=0&&v[o]!=i;o--);if(o>=0){for(a=v.length-1;a>=o;a--)n.end&&n.end(v[a]);v.length=o}}var s,l,g,v=[],w=e;for(v.last=function(){return v[v.length-1]};e;){if(l=!0,v.last()&&S[v.last()])e=e.replace(RegExp("(.*)<\\s*\\/\\s*"+v.last()+"[^>]*>","i"),function(e,t){return t=t.replace(f,"$1").replace(m,"$1"),n.chars&&n.chars(a(t)),""}),o("",v.last());else if(0===e.indexOf("<!--")?(s=e.indexOf("-->"),s>=0&&(n.comment&&n.comment(e.substring(4,s)),e=e.substring(s+3),l=!1)):d.test(e)?(g=e.match(u),g&&(e=e.substring(g[0].length),g[0].replace(u,o),l=!1)):p.test(e)&&(g=e.match(c),g&&(e=e.substring(g[0].length),g[0].replace(c,i),l=!1)),l){s=e.indexOf("<");var y=0>s?e:e.substring(0,s);e=0>s?"":e.substring(s),n.chars&&n.chars(a(y))}if(e==w)throw r("badparse","The sanitizer was unable to parse the following block of html: {0}",e);w=e}o()}function a(e){return D.innerHTML=e.replace(/</g,"&lt;"),D.innerText||D.textContent||""}function o(e){return e.replace(/&/g,"&amp;").replace(v,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(e){var n=!1,i=t.bind(e,e.push);return{start:function(e,a,s){e=t.lowercase(e),!n&&S[e]&&(n=e),n||1!=x[e]||(i("<"),i(e),t.forEach(a,function(e,n){var a=t.lowercase(n);1!=T[a]||E[a]===!0&&!e.match(g)||(i(" "),i(n),i('="'),i(o(e)),i('"'))}),i(s?"/>":">"))},end:function(e){e=t.lowercase(e),n||1!=x[e]||(i("</"),i(e),i(">")),e==n&&(n=!1)},chars:function(e){n||i(o(e))}}}var r=t.$$minErr("$sanitize"),l=function(e){var t=[];return i(e,s(t)),t.join("")},c=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,u=/^<\s*\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,d=/^<\s*\//,f=/<!--(.*?)-->/g,m=/<!\[CDATA\[(.*?)]]>/g,g=/^((ftp|https?):\/\/|mailto:|tel:|#)/i,v=/([^\#-~| |!])/g,b=n("area,br,col,hr,img,wbr"),w=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),y=n("rp,rt"),$=t.extend({},y,w),C=t.extend({},w,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),k=t.extend({},y,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),S=n("script,style"),x=t.extend({},b,C,k,$),E=n("background,cite,href,longdesc,src,usemap"),T=t.extend({},E,n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width")),D=document.createElement("pre");t.module("ngSanitize",[]).value("$sanitize",l),t.module("ngSanitize").filter("linky",function(){var e=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s\.\;\,\(\)\{\}\<\>]/,n=/^mailto:/;return function(i,a){if(!i)return i;var o,r,l,c=i,u=[],h=s(u),p={};for(t.isDefined(a)&&(p.target=a);o=c.match(e);)r=o[0],o[2]==o[3]&&(r="mailto:"+r),l=o.index,h.chars(c.substr(0,l)),p.href=r,h.start("a",p),h.chars(o[0].replace(n,"")),h.end("a"),c=c.substring(l+o[0].length);return h.chars(c),u.join("")}})}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dialog","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function i(e){for(var t in e)if(void 0!==o.style[t])return e[t]}var a=function(i,o,s){s=s||{};var r=e.defer(),l=a[s.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){i.unbind(l,c),r.resolve(i)})};return l&&i.bind(l,c),t(function(){angular.isString(o)?i.addClass(o):angular.isFunction(o)?o(i):angular.isObject(o)&&i.css(o),l||r.resolve(i)}),r.promise.cancel=function(){l&&i.unbind(l,c),r.reject("Transition cancelled")},r.promise},o=document.createElement("trans"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},r={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return a.transitionEndEventName=i(s),a.animationEndEventName=i(r),a}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){var t=function(e,t,n){t.removeClass("collapse"),t.css({height:n}),t[0].offsetWidth,t.addClass("collapse")};return{link:function(n,i,a){var o,s=!0;n.$watch(function(){return i[0].scrollHeight},function(){0!==i[0].scrollHeight&&(o||(s?t(n,i,i[0].scrollHeight+"px"):t(n,i,"auto")))}),n.$watch(a.collapse,function(e){e?u():c()});var r,l=function(t){return r&&r.cancel(),r=e(i,t),r.then(function(){r=void 0},function(){r=void 0}),r},c=function(){s?(s=!1,o||t(n,i,"auto")):l({height:i[0].scrollHeight+"px"}).then(function(){o||t(n,i,"auto")}),o=!1},u=function(){o=!0,s?(s=!1,t(n,i,0)):(t(n,i,i[0].scrollHeight+"px"),l({height:"0"}))}}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var a=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;a&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(this.groups.indexOf(e),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse","$transition","$timeout",function(e){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:["$scope",function(){this.setHeading=function(e){this.heading=e}}],link:function(t,n,i,a){var o,s;a.addGroup(t),t.isOpen=!1,i.isOpen&&(o=e(i.isOpen),s=o.assign,t.$watch(function(){return o(t.$parent)},function(e){t.isOpen=e}),t.isOpen=o?o(t.$parent):!1),t.$watch("isOpen",function(e){e&&a.closeOthers(t),s&&s(t.$parent,e)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(e,t,n){return function(e,t,i,a){a.setHeading(n(e,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"},link:function(e,t,n){e.closeable="close"in n}}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(e){var t=e.activeClass||"active",n=e.toggleEvent||"click";return{require:"ngModel",link:function(e,i,a,o){o.$render=function(){i.toggleClass(t,angular.equals(o.$modelValue,e.$eval(a.btnRadio)))},i.bind(n,function(){i.hasClass(t)||e.$apply(function(){o.$setViewValue(e.$eval(a.btnRadio)),o.$render()})})}}}]).directive("btnCheckbox",["buttonConfig",function(e){var t=e.activeClass||"active",n=e.toggleEvent||"click";return{require:"ngModel",link:function(e,i,a,o){function s(){var t=e.$eval(a.btnCheckboxTrue);return angular.isDefined(t)?t:!0}function r(){var t=e.$eval(a.btnCheckboxFalse);return angular.isDefined(t)?t:!1}o.$render=function(){i.toggleClass(t,angular.equals(o.$modelValue,s()))},i.bind(n,function(){e.$apply(function(){o.$setViewValue(i.hasClass(t)?r():s()),o.$render()})})}}}]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(e,t,n){function i(){function n(){o?(e.next(),i()):e.pause()}a&&t.cancel(a);var s=+e.interval;!isNaN(s)&&s>=0&&(a=t(n,s))}var a,o,s=this,r=s.slides=[],l=-1;s.currentSlide=null,s.select=function(a,o){function c(){s.currentSlide&&angular.isString(o)&&!e.noTransition&&a.$element?(a.$element.addClass(o),a.$element[0].offsetWidth=a.$element[0].offsetWidth,angular.forEach(r,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(a,{direction:o,active:!0,entering:!0}),angular.extend(s.currentSlide||{},{direction:o,leaving:!0}),e.$currentTransition=n(a.$element,{}),function(t,n){e.$currentTransition.then(function(){u(t,n)},function(){u(t,n)})}(a,s.currentSlide)):u(a,s.currentSlide),s.currentSlide=a,l=h,i()}function u(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var h=r.indexOf(a);void 0===o&&(o=h>l?"next":"prev"),a&&a!==s.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(c)):c())},s.indexOfSlide=function(e){return r.indexOf(e)},e.next=function(){var t=(l+1)%r.length;return e.$currentTransition?void 0:s.select(r[t],"next")},e.prev=function(){var t=0>l-1?r.length-1:l-1;return e.$currentTransition?void 0:s.select(r[t],"prev")},e.select=function(e){s.select(e)},e.isActive=function(e){return s.currentSlide===e},e.slides=function(){return r},e.$watch("interval",i),e.play=function(){o||(o=!0,i())},e.pause=function(){e.noPause||(o=!1,a&&t.cancel(a))},s.addSlide=function(t,n){t.$element=n,r.push(t),1===r.length||t.active?(s.select(r[r.length-1]),1==r.length&&e.play()):t.active=!1},s.removeSlide=function(e){var t=r.indexOf(e);r.splice(t,1),r.length>0&&e.active?t>=r.length?s.select(r[t-1]):s.select(r[t]):l>t&&l--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function(e){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(t,n,i,a){if(i.active){var o=e(i.active),s=o.assign,r=t.active=o(t.$parent);t.$watch(function(){var e=o(t.$parent);
return e!==t.active&&(e!==r?r=t.active=e:s(t.$parent,e=r=t.active)),e})}a.addSlide(t,n),t.$on("$destroy",function(){a.removeSlide(t)}),t.$watch("active",function(e){e&&a.select(t)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var a,o;e.bind("mousemove",function(e){a=e.pageX,o=e.pageY});var s=function(t){for(var n=e[0],a=t.offsetParent||n;a&&a!==n&&i(a);)a=a.offsetParent;return a||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},a=s(t[0]);return a!=e[0]&&(i=this.offset(angular.element(a)),i.top+=a.clientTop-a.scrollTop,i.left+=a.clientLeft-a.scrollLeft),{width:t.prop("offsetWidth"),height:t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:n.prop("offsetWidth"),height:n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].body.scrollTop),left:i.left+(t.pageXOffset||e[0].body.scrollLeft)}},mouse:function(){return{x:a,y:o}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(e,t,n,i){function a(t,n){return angular.isDefined(t)?e.$parent.$eval(t):n}function o(e,t){return new Date(e,t,0).getDate()}function s(e,t){for(var n=Array(t),i=e,a=0;t>a;)n[a++]=new Date(i),i.setDate(i.getDate()+1);return n}function r(e,t,i,a){return{date:e,label:n(e,t),selected:!!i,secondary:!!a}}var l={day:a(t.dayFormat,i.dayFormat),month:a(t.monthFormat,i.monthFormat),year:a(t.yearFormat,i.yearFormat),dayHeader:a(t.dayHeaderFormat,i.dayHeaderFormat),dayTitle:a(t.dayTitleFormat,i.dayTitleFormat),monthTitle:a(t.monthTitleFormat,i.monthTitleFormat)},c=a(t.startingDay,i.startingDay),u=a(t.yearRange,i.yearRange);this.minDate=i.minDate?new Date(i.minDate):null,this.maxDate=i.maxDate?new Date(i.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(e,t){var i=e.getFullYear(),a=e.getMonth(),u=new Date(i,a,1),h=c-u.getDay(),p=h>0?7-h:-h,d=new Date(u),f=0;p>0&&(d.setDate(-p+1),f+=p),f+=o(i,a+1),f+=(7-f%7)%7;for(var m=s(d,f),g=Array(7),v=0;f>v;v++){var b=new Date(m[v]);m[v]=r(b,l.day,t&&t.getDate()===b.getDate()&&t.getMonth()===b.getMonth()&&t.getFullYear()===b.getFullYear(),b.getMonth()!==a)}for(var w=0;7>w;w++)g[w]=n(m[w].date,l.dayHeader);return{objects:m,title:n(e,l.dayTitle),labels:g}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(e,t){for(var i=Array(12),a=e.getFullYear(),o=0;12>o;o++){var s=new Date(a,o,1);i[o]=r(s,l.month,t&&t.getMonth()===o&&t.getFullYear()===a)}return{objects:i,title:n(e,l.monthTitle)}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(e,t){for(var n=Array(u),i=e.getFullYear(),a=parseInt((i-1)/u,10)*u+1,o=0;u>o;o++){var s=new Date(a+o,0,1);n[o]=r(s,l.year,t&&t.getFullYear()===s.getFullYear())}return{objects:n,title:[n[0].label,n[u-1].label].join(" - ")}},compare:function(e,t){return e.getFullYear()-t.getFullYear()},split:5,step:{years:u}}],this.isDisabled=function(t,n){var i=this.modes[n||0];return this.minDate&&0>i.compare(t,this.minDate)||this.maxDate&&i.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:i.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(e,t,n,i){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,a,o,s){function r(){e.showWeekNumbers=0===f&&g}function l(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}function c(t){var n=null,a=!0;d.$modelValue&&(n=new Date(d.$modelValue),isNaN(n)?(a=!1,i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):t&&(m=n)),d.$setValidity("date",a);var o=p.modes[f],s=o.getVisibleDates(m,n);angular.forEach(s.objects,function(e){e.disabled=p.isDisabled(e.date,f)}),d.$setValidity("date-disabled",!n||!p.isDisabled(n)),e.rows=l(s.objects,o.split),e.labels=s.labels||[],e.title=s.title}function u(e){f=e,r(),c()}function h(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var p=s[0],d=s[1];if(d){var f=0,m=new Date,g=n.showWeeks;o.showWeeks?e.$parent.$watch(t(o.showWeeks),function(e){g=!!e,r()}):r(),o.min&&e.$parent.$watch(t(o.min),function(e){p.minDate=e?new Date(e):null,c()}),o.max&&e.$parent.$watch(t(o.max),function(e){p.maxDate=e?new Date(e):null,c()}),d.$render=function(){c(!0)},e.select=function(e){if(0===f){var t=new Date(d.$modelValue);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),d.$setViewValue(t),c(!0)}else m=e,u(f-1)},e.move=function(e){var t=p.modes[f].step;m.setMonth(m.getMonth()+e*(t.months||0)),m.setFullYear(m.getFullYear()+e*(t.years||0)),c()},e.toggleMode=function(){u((f+1)%p.modes.length)},e.getWeekNumber=function(t){return 0===f&&e.showWeekNumbers&&7===t.length?h(t[0].date):null}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",closeOnDateSelection:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig",function(e,t,n,i,a,o){return{restrict:"EA",require:"ngModel",link:function(s,r,l,c){function u(e){return e?a(e,g):null}function h(e){if(e){var t=new Date(e);if(!isNaN(t))return t}return e}function p(e){w?w(s,!!e):v.isOpen=!!e}function d(e,n,i){e&&(s.$watch(t(e),function(e){v[n]=e}),k.attr(i||n,n))}function f(){v.position=i.position(r),v.position.top=v.position.top+r.prop("offsetHeight")}var m=angular.isDefined(l.closeOnDateSelection)?v.$eval(l.closeOnDateSelection):o.closeOnDateSelection,g=l.datepickerPopup||o.dateFormat,v=s.$new();s.$on("$destroy",function(){v.$destroy()}),c.$formatters.push(u),c.$parsers.push(h);var b,w;l.open&&(b=t(l.open),w=b.assign,s.$watch(b,function(e){v.isOpen=!!e})),v.isOpen=b?b(s):!1;var y=function(e){v.isOpen&&e.target!==r[0]&&v.$apply(function(){p(!1)})},$=function(){v.$apply(function(){p(!0)})},C=angular.element("<datepicker-popup-wrap><datepicker></datepicker></datepicker-popup-wrap>");C.attr({"ng-model":"date","ng-change":"dateSelection()"});var k=C.find("datepicker");l.datepickerOptions&&k.attr(angular.extend({},s.$eval(l.datepickerOptions)));var S=t(l.ngModel).assign;v.dateSelection=function(){S(s,v.date),m&&p(!1)},v.$watch(function(){return c.$modelValue},function(e){if(angular.isString(e)){var t=h(e);if(e&&!t)throw S(s,null),Error(e+" cannot be parsed to a date object.");e=t}v.date=e,f()}),d(l.min,"min"),d(l.max,"max"),l.showWeeks?d(l.showWeeks,"showWeeks","show-weeks"):(v.showWeeks=!0,k.attr("show-weeks","showWeeks")),l.dateDisabled&&k.attr("date-disabled",l.dateDisabled),v.$watch("isOpen",function(e){e?(f(),n.bind("click",y),r.unbind("focus",$),r.focus()):(n.unbind("click",y),r.bind("focus",$)),w&&w(s,e)}),v.today=function(){S(s,new Date)},v.clear=function(){S(s,null)},r.after(e(C)(v))}}}]).directive("datepickerPopupWrap",[function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}]);var dialogModule=angular.module("ui.bootstrap.dialog",["ui.bootstrap.transition"]);dialogModule.controller("MessageBoxController",["$scope","dialog","model",function(e,t,n){e.title=n.title,e.message=n.message,e.buttons=n.buttons,e.close=function(e){t.close(e)}}]),dialogModule.provider("$dialog",function(){var e={backdrop:!0,dialogClass:"modal",backdropClass:"modal-backdrop",transitionClass:"fade",triggerClass:"in",resolve:{},backdropFade:!1,dialogFade:!1,keyboard:!0,backdropClick:!0},t={},n={value:0};this.options=function(e){t=e},this.$get=["$http","$document","$compile","$rootScope","$controller","$templateCache","$q","$transition","$injector",function(i,a,o,s,r,l,c,u,h){function p(e){var t=angular.element("<div>");return t.addClass(e),t}function d(n){var i=this,a=this.options=angular.extend({},e,t,n);this._open=!1,this.backdropEl=p(a.backdropClass),a.backdropFade&&(this.backdropEl.addClass(a.transitionClass),this.backdropEl.removeClass(a.triggerClass)),this.modalEl=p(a.dialogClass),a.dialogFade&&(this.modalEl.addClass(a.transitionClass),this.modalEl.removeClass(a.triggerClass)),this.handledEscapeKey=function(e){27===e.which&&(i.close(),e.preventDefault(),i.$scope.$apply())},this.handleBackDropClick=function(e){i.close(),e.preventDefault(),i.$scope.$apply()}}var f=a.find("body");return d.prototype.isOpen=function(){return this._open},d.prototype.open=function(e,t){var n=this,i=this.options;if(e&&(i.templateUrl=e),t&&(i.controller=t),!i.template&&!i.templateUrl)throw Error("Dialog.open expected template or templateUrl, neither found. Use options or open method to specify them.");return this._loadResolves().then(function(e){var t=e.$scope=n.$scope=e.$scope?e.$scope:s.$new();if(n.modalEl.html(e.$template),n.options.controller){var i=r(n.options.controller,e);n.modalEl.children().data("ngControllerController",i)}o(n.modalEl)(t),n._addElementsToDom(),setTimeout(function(){n.options.dialogFade&&n.modalEl.addClass(n.options.triggerClass),n.options.backdropFade&&n.backdropEl.addClass(n.options.triggerClass)}),n._bindEvents()}),this.deferred=c.defer(),this.deferred.promise},d.prototype.close=function(e){function t(e){e.removeClass(i.options.triggerClass)}function n(){i._open&&i._onCloseComplete(e)}var i=this,a=this._getFadingElements();if(a.length>0)for(var o=a.length-1;o>=0;o--)u(a[o],t).then(n);else this._onCloseComplete(e)},d.prototype._getFadingElements=function(){var e=[];return this.options.dialogFade&&e.push(this.modalEl),this.options.backdropFade&&e.push(this.backdropEl),e},d.prototype._bindEvents=function(){this.options.keyboard&&f.bind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.bind("click",this.handleBackDropClick)},d.prototype._unbindEvents=function(){this.options.keyboard&&f.unbind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.unbind("click",this.handleBackDropClick)},d.prototype._onCloseComplete=function(e){this._removeElementsFromDom(),this._unbindEvents(),this.deferred.resolve(e)},d.prototype._addElementsToDom=function(){f.append(this.modalEl),this.options.backdrop&&(0===n.value&&f.append(this.backdropEl),n.value++),this._open=!0},d.prototype._removeElementsFromDom=function(){this.modalEl.remove(),this.options.backdrop&&(n.value--,0===n.value&&this.backdropEl.remove()),this._open=!1},d.prototype._loadResolves=function(){var e,t=[],n=[],a=this;return this.options.template?e=c.when(this.options.template):this.options.templateUrl&&(e=i.get(this.options.templateUrl,{cache:l}).then(function(e){return e.data})),angular.forEach(this.options.resolve||[],function(e,i){n.push(i),t.push(angular.isString(e)?h.get(e):h.invoke(e))}),n.push("$template"),t.push(e),c.all(t).then(function(e){var t={};return angular.forEach(e,function(e,i){t[n[i]]=e}),t.dialog=a,t})},{dialog:function(e){return new d(e)},messageBox:function(e,t,n){return new d({templateUrl:"template/dialog/message.html",controller:"MessageBoxController",resolve:{model:function(){return{title:e,message:t,buttons:n}}}})}}}]}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(e){var t=null,n=angular.noop;return{restrict:"CA",link:function(i,a){i.$watch("$location.path",function(){n()}),a.parent().bind("click",function(){n()}),a.bind("click",function(i){var o=a===t;i.preventDefault(),i.stopPropagation(),t&&n(),o||(a.parent().addClass("open"),t=a,n=function(i){i&&(i.preventDefault(),i.stopPropagation()),e.unbind("click",n),a.parent().removeClass("open"),n=angular.noop,t=null},e.bind("click",n))})}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.dialog"]).directive("modal",["$parse","$dialog",function(e,t){return{restrict:"EA",terminal:!0,link:function(n,i,a){var o,s=angular.extend({},n.$eval(a.uiOptions||a.bsOptions||a.options)),r=a.modal||a.show;s=angular.extend(s,{template:i.html(),resolve:{$scope:function(){return n}}});var l=t.dialog(s);i.remove(),o=a.close?function(){e(a.close)(n)}:function(){angular.isFunction(e(r).assign)&&e(r).assign(n,!1)},n.$watch(r,function(e){e?l.open().then(function(){o()}):l.isOpen()&&l.close()})}}}]),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$interpolate",function(e,t){this.currentPage=1,this.noPrevious=function(){return 1===this.currentPage},this.noNext=function(){return this.currentPage===e.numPages},this.isActive=function(e){return this.currentPage===e},this.reset=function(){e.pages=[],this.currentPage=parseInt(e.currentPage,10),this.currentPage>e.numPages&&e.selectPage(e.numPages)};var n=this;e.selectPage=function(t){!n.isActive(t)&&t>0&&e.numPages>=t&&(e.currentPage=t,e.onSelectPage({page:t}))},this.getAttributeValue=function(n,i,a){return angular.isDefined(n)?a?t(n)(e.$parent):e.$parent.$eval(n):i}}]).constant("paginationConfig",{boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["paginationConfig",function(e){return{restrict:"EA",scope:{numPages:"=",currentPage:"=",maxSize:"=",onSelectPage:"&"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(t,n,i,a){function o(e,t,n,i){return{number:e,text:t,active:n,disabled:i}}var s=a.getAttributeValue(i.boundaryLinks,e.boundaryLinks),r=a.getAttributeValue(i.directionLinks,e.directionLinks),l=a.getAttributeValue(i.firstText,e.firstText,!0),c=a.getAttributeValue(i.previousText,e.previousText,!0),u=a.getAttributeValue(i.nextText,e.nextText,!0),h=a.getAttributeValue(i.lastText,e.lastText,!0),p=a.getAttributeValue(i.rotate,e.rotate);t.$watch("numPages + currentPage + maxSize",function(){a.reset();var e=1,n=t.numPages,i=angular.isDefined(t.maxSize)&&t.maxSize<t.numPages;i&&(p?(e=Math.max(a.currentPage-Math.floor(t.maxSize/2),1),n=e+t.maxSize-1,n>t.numPages&&(n=t.numPages,e=n-t.maxSize+1)):(e=(Math.ceil(a.currentPage/t.maxSize)-1)*t.maxSize+1,n=Math.min(e+t.maxSize-1,t.numPages)));for(var d=e;n>=d;d++){var f=o(d,d,a.isActive(d),!1);t.pages.push(f)}if(i&&!p){if(e>1){var m=o(e-1,"...",!1,!1);t.pages.unshift(m)}if(t.numPages>n){var g=o(n+1,"...",!1,!1);t.pages.push(g)}}if(r){var v=o(a.currentPage-1,c,!1,a.noPrevious());t.pages.unshift(v);var b=o(a.currentPage+1,u,!1,a.noNext());t.pages.push(b)}if(s){var w=o(1,l,!1,a.noPrevious());t.pages.unshift(w);var y=o(t.numPages,h,!1,a.noNext());t.pages.push(y)}})}}}]).constant("pagerConfig",{previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{numPages:"=",currentPage:"=",onSelectPage:"&"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,i,a){function o(e,t,n,i,a){return{number:e,text:t,disabled:n,previous:l&&i,next:l&&a}}var s=a.getAttributeValue(i.previousText,e.previousText,!0),r=a.getAttributeValue(i.nextText,e.nextText,!0),l=a.getAttributeValue(i.align,e.align);t.$watch("numPages + currentPage",function(){a.reset();var e=o(a.currentPage-1,s,a.noPrevious(),!0,!1);t.pages.unshift(e);var n=o(a.currentPage+1,r,a.noNext(),!1,!0);t.pages.push(n)})}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(a,o,s,r,l,c,u){return function(a,h,p){function d(e){var t=e||f.trigger||p,i=n[t]||t;return{show:t,hide:i}}var f=angular.extend({},t,i),m=e(a),g=u.startSymbol(),v=u.endSymbol(),b="<"+m+"-popup "+'title="'+g+"tt_title"+v+'" '+'content="'+g+"tt_content"+v+'" '+'placement="'+g+"tt_placement"+v+'" '+'animation="tt_animation()" '+'is-open="tt_isOpen"'+">"+"</"+m+"-popup>";return{restrict:"EA",scope:!0,link:function(e,t,n){function i(){e.tt_isOpen?p():u()}function u(){e.tt_popupDelay?w=s(m,e.tt_popupDelay):e.$apply(m)}function p(){e.$apply(function(){g()})}function m(){var n,i,a,o;if(e.tt_content){switch(v&&s.cancel(v),$.css({top:0,left:0,display:"block"}),C?(y=y||l.find("body"),y.append($)):t.after($),n=C?c.offset(t):c.position(t),i=$.prop("offsetWidth"),a=$.prop("offsetHeight"),e.tt_placement){case"mouse":var r=c.mouse();o={top:r.y,left:r.x};break;case"right":o={top:n.top+n.height/2-a/2,left:n.left+n.width};break;case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"left":o={top:n.top+n.height/2-a/2,left:n.left-i};break;default:o={top:n.top-a,left:n.left+n.width/2-i/2}}o.top+="px",o.left+="px",$.css(o),e.tt_isOpen=!0}}function g(){e.tt_isOpen=!1,s.cancel(w),angular.isDefined(e.tt_animation)&&e.tt_animation()?v=s(function(){$.remove()},500):$.remove()}var v,w,y,$=o(b)(e),C=angular.isDefined(f.appendToBody)?f.appendToBody:!1,k=d(void 0),S=!1;e.tt_isOpen=!1,n.$observe(a,function(t){e.tt_content=t}),n.$observe(h+"Title",function(t){e.tt_title=t}),n.$observe(h+"Placement",function(t){e.tt_placement=angular.isDefined(t)?t:f.placement}),n.$observe(h+"Animation",function(t){e.tt_animation=angular.isDefined(t)?r(t):function(){return f.animation}}),n.$observe(h+"PopupDelay",function(t){var n=parseInt(t,10);e.tt_popupDelay=isNaN(n)?f.popupDelay:n}),n.$observe(h+"Trigger",function(e){S&&(t.unbind(k.show,u),t.unbind(k.hide,p)),k=d(e),k.show===k.hide?t.bind(k.show,i):(t.bind(k.show,u),t.bind(k.hide,p)),S=!0}),n.$observe(h+"AppendToBody",function(t){C=angular.isDefined(t)?r(t)(e):C}),C&&e.$on("$locationChangeSuccess",function(){e.tt_isOpen&&g()}),e.$on("$destroy",function(){e.tt_isOpen?g():$.remove()})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window","$tooltip",function(e,t,n,i,a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,autoType:!1,stackedTypes:["success","info","warning","danger"]}).controller("ProgressBarController",["$scope","$attrs","progressConfig",function(e,t,n){function i(e){return s[e]}var a=angular.isDefined(t.animate)?e.$eval(t.animate):n.animate,o=angular.isDefined(t.autoType)?e.$eval(t.autoType):n.autoType,s=angular.isDefined(t.stackedTypes)?e.$eval("["+t.stackedTypes+"]"):n.stackedTypes;this.makeBar=function(e,t,n){var s=angular.isObject(e)?e.value:e||0,r=angular.isObject(t)?t.value:t||0,l=angular.isObject(e)&&angular.isDefined(e.type)?e.type:o?i(n||0):null;return{from:r,to:s,type:l,animate:a}},this.addBar=function(t){e.bars.push(t),e.totalPercent+=t.to},this.clearBars=function(){e.bars=[],e.totalPercent=0},this.clearBars()}]).directive("progress",function(){return{restrict:"EA",replace:!0,controller:"ProgressBarController",scope:{value:"=percent",onFull:"&",onEmpty:"&"},templateUrl:"template/progressbar/progress.html",link:function(e,t,n,i){e.$watch("value",function(e,t){if(i.clearBars(),angular.isArray(e))for(var n=0,a=e.length;a>n;n++)i.addBar(i.makeBar(e[n],t[n],n));else i.addBar(i.makeBar(e,t))},!0),e.$watch("totalPercent",function(t){t>=100?e.onFull():0>=t&&e.onEmpty()},!0)}}}).directive("progressbar",["$transition",function(e){return{restrict:"EA",replace:!0,scope:{width:"=",old:"=",type:"=",animate:"="},templateUrl:"template/progressbar/bar.html",link:function(t,n){t.$watch("width",function(i){t.animate?(n.css("width",t.old+"%"),e(n,{width:i+"%"})):n.css("width",i+"%")})}}}]),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5}).directive("rating",["ratingConfig","$parse",function(e,t){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},templateUrl:"template/rating/rating.html",replace:!0,link:function(n,i,a){var o=angular.isDefined(a.max)?n.$parent.$eval(a.max):e.max;n.range=[];for(var s=1;o>=s;s++)n.range.push(s);n.rate=function(e){n.readonly||(n.value=e)},n.enter=function(e){n.readonly||(n.val=e),n.onHover({value:e})},n.reset=function(){n.val=angular.copy(n.value),n.onLeave()},n.reset(),n.$watch("value",function(e){n.val=e}),n.readonly=!1,a.readonly&&n.$parent.$watch(t(a.readonly),function(e){n.readonly=!!e})}}}]),angular.module("ui.bootstrap.tabs",[]).directive("tabs",function(){return function(){throw Error("The `tabs` directive is deprecated, please migrate to `tabset`. Instructions can be found at http://github.com/angular-ui/bootstrap/tree/master/CHANGELOG.md")}}).controller("TabsetController",["$scope","$element",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(e){e.active=!1}),e.active=!0},t.addTab=function(e){n.push(e),(1===n.length||e.active)&&t.select(e)},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1){var a=i==n.length-1?i-1:i+1;t.select(n[a])}n.splice(i,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,require:"^tabset",scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",compile:function(e,t,n){return function(e,t,i,a){e.vertical=angular.isDefined(i.vertical)?e.$eval(i.vertical):!1,e.type=angular.isDefined(i.type)?e.$parent.$eval(i.type):"tabs",e.direction=angular.isDefined(i.direction)?e.$parent.$eval(i.direction):"top",e.tabsAbove="below"!=e.direction,a.$scope=e,a.$transcludeFn=n}}}}).directive("tab",["$parse","$http","$templateCache","$compile",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,i){return function(t,n,a,o){var s,r;a.active?(s=e(a.active),r=s.assign,t.$parent.$watch(s,function(e){t.active=!!e}),t.active=s(t.$parent)):r=s=angular.noop,t.$watch("active",function(e){r(t.$parent,e),e?(o.select(t),t.onSelect()):t.onDeselect()}),t.disabled=!1,a.disabled&&t.$parent.$watch(e(a.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},o.addTab(t),t.$on("$destroy",function(){o.removeTab(t)}),t.active&&r(t.$parent,!0),t.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",["$compile","$parse",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,i){var a=t.$eval(i.tabContentTransclude);a.$transcludeFn(a.$parent,function(t){angular.forEach(t,function(t){e(t)?a.headingElement=t:n.append(t)})})}}}]).directive("tabsetTitles",function(){return{restrict:"A",require:"^tabset",templateUrl:"template/tabs/tabset-titles.html",replace:!0,link:function(e,t,n,i){e.$eval(n.tabsetTitles)?i.$transcludeFn(i.$scope.$parent,function(e){t.append(e)}):t.remove()}}}),angular.module("ui.bootstrap.timepicker",[]).filter("pad",function(){return function(e){return angular.isDefined(e)&&2>(""+e).length&&(e="0"+e),e}}).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:["AM","PM"],readonlyInput:!1,mousewheel:!0}).directive("timepicker",["padFilter","$parse","timepickerConfig",function(e,t,n){return{restrict:"EA",require:"ngModel",replace:!0,templateUrl:"template/timepicker/timepicker.html",scope:{model:"=ngModel"},link:function(i,a,o){function s(){var e=parseInt(i.hours,10),t=i.showMeridian?e>0&&13>e:e>=0&&24>e;return t?(i.showMeridian&&(12===e&&(e=0),i.meridian===u[1]&&(e+=12)),e):void 0}function r(){var t=c.getHours();i.showMeridian&&(t=0===t||12===t?12:t%12),i.hours="h"===b?t:e(t),i.validHours=!0;var n=c.getMinutes();i.minutes="m"===b?n:e(n),i.validMinutes=!0,i.meridian=i.showMeridian?12>c.getHours()?u[0]:u[1]:"",b=!1}function l(e){var t=new Date(c.getTime()+6e4*e);c.setHours(t.getHours()),c.setMinutes(t.getMinutes()),i.model=new Date(c)}var c=new Date,u=n.meridians,h=n.hourStep;o.hourStep&&i.$parent.$watch(t(o.hourStep),function(e){h=parseInt(e,10)});var p=n.minuteStep;o.minuteStep&&i.$parent.$watch(t(o.minuteStep),function(e){p=parseInt(e,10)}),i.showMeridian=n.showMeridian,o.showMeridian&&i.$parent.$watch(t(o.showMeridian),function(e){if(i.showMeridian=!!e,i.model)r();else{var t=new Date(c),n=s();angular.isDefined(n)&&t.setHours(n),i.model=new Date(t)}});var d=a.find("input"),f=d.eq(0),m=d.eq(1),g=angular.isDefined(o.mousewheel)?i.$eval(o.mousewheel):n.mousewheel;if(g){var v=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};f.bind("mousewheel wheel",function(e){i.$apply(v(e)?i.incrementHours():i.decrementHours()),e.preventDefault()}),m.bind("mousewheel wheel",function(e){i.$apply(v(e)?i.incrementMinutes():i.decrementMinutes()),e.preventDefault()})}var b=!1;i.readonlyInput=angular.isDefined(o.readonlyInput)?i.$eval(o.readonlyInput):n.readonlyInput,i.readonlyInput?(i.updateHours=angular.noop,i.updateMinutes=angular.noop):(i.updateHours=function(){var e=s();angular.isDefined(e)?(b="h",null===i.model&&(i.model=new Date(c)),i.model.setHours(e)):(i.model=null,i.validHours=!1)},f.bind("blur",function(){i.validHours&&10>i.hours&&i.$apply(function(){i.hours=e(i.hours)})}),i.updateMinutes=function(){var e=parseInt(i.minutes,10);e>=0&&60>e?(b="m",null===i.model&&(i.model=new Date(c)),i.model.setMinutes(e)):(i.model=null,i.validMinutes=!1)},m.bind("blur",function(){i.validMinutes&&10>i.minutes&&i.$apply(function(){i.minutes=e(i.minutes)})})),i.$watch(function(){return+i.model},function(e){!isNaN(e)&&e>0&&(c=new Date(e),r())}),i.incrementHours=function(){l(60*h)},i.decrementHours=function(){l(60*-h)},i.incrementMinutes=function(){l(p)},i.decrementMinutes=function(){l(-p)},i.toggleMeridian=function(){l(720*(12>c.getHours()?1:-1))}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var i=n.match(t);if(!i)throw Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+n+"'.");return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,i,a,o,s){var r=[9,13,27,38,40];return{require:"ngModel",link:function(l,c,u,h){var p=l.$eval(u.typeaheadMinLength)||1,d=l.$eval(u.typeaheadWaitMs)||0,f=l.$eval(u.typeaheadEditable)!==!1,m=t(u.typeaheadLoading).assign||angular.noop,g=t(u.typeaheadOnSelect),v=u.typeaheadInputFormatter?t(u.typeaheadInputFormatter):void 0,b=t(u.ngModel).assign,w=s.parse(u.typeahead),y=angular.element("<typeahead-popup></typeahead-popup>");y.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&y.attr("template-url",u.typeaheadTemplateUrl);var $=l.$new();l.$on("$destroy",function(){$.$destroy()});var C=function(){$.matches=[],$.activeIdx=-1},k=function(e){var t={$viewValue:e};m(l,!0),n.when(w.source($,t)).then(function(n){if(e===h.$viewValue){if(n.length>0){$.activeIdx=0,$.matches.length=0;for(var i=0;n.length>i;i++)t[w.itemName]=n[i],$.matches.push({label:w.viewMapper($,t),model:n[i]});$.query=e,$.position=o.position(c),$.position.top=$.position.top+c.prop("offsetHeight")}else C();m(l,!1)}},function(){C(),m(l,!1)})};C(),$.query=void 0;var S;h.$parsers.push(function(e){return C(),e&&e.length>=p&&(d>0?(S&&i.cancel(S),S=i(function(){k(e)},d)):k(e)),f?e:void 0}),h.$formatters.push(function(e){var t,n,i={};return v?(i.$model=e,v(l,i)):(i[w.itemName]=e,t=w.viewMapper(l,i),n=w.viewMapper(l,{}),t!==n?t:e)}),$.select=function(e){var t,n,i={};i[w.itemName]=n=$.matches[e].model,t=w.modelMapper(l,i),b(l,t),g(l,{$item:n,$model:t,$label:w.viewMapper(l,i)}),C(),c[0].focus()},c.bind("keydown",function(e){0!==$.matches.length&&-1!==r.indexOf(e.which)&&(e.preventDefault(),40===e.which?($.activeIdx=($.activeIdx+1)%$.matches.length,$.$digest()):38===e.which?($.activeIdx=($.activeIdx?$.activeIdx:$.matches.length)-1,$.$digest()):13===e.which||9===e.which?$.$apply(function(){$.select($.activeIdx)}):27===e.which&&(e.stopPropagation(),C(),$.$digest()))}),a.bind("click",function(){C(),$.$digest()}),c.after(e(y)($))}}}]).directive("typeaheadPopup",function(){return{restrict:"E",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,i){return{restrict:"E",scope:{index:"=",match:"=",query:"="},link:function(a,o,s){var r=i(s.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";e.get(r,{cache:t}).success(function(e){o.replaceWith(n(e.trim())(a))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?t.replace(RegExp(e(n),"gi"),"<strong>$&</strong>"):n}}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/popup.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset-titles.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function i(e){for(var t in e)if(void 0!==o.style[t])return e[t]
}var a=function(i,o,s){s=s||{};var r=e.defer(),l=a[s.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){i.unbind(l,c),r.resolve(i)})};return l&&i.bind(l,c),t(function(){angular.isString(o)?i.addClass(o):angular.isFunction(o)?o(i):angular.isObject(o)&&i.css(o),l||r.resolve(i)}),r.promise.cancel=function(){l&&i.unbind(l,c),r.reject("Transition cancelled")},r.promise},o=document.createElement("trans"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},r={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return a.transitionEndEventName=i(s),a.animationEndEventName=i(r),a}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){var t=function(e,t,n){t.removeClass("collapse"),t.css({height:n}),t[0].offsetWidth,t.addClass("collapse")};return{link:function(n,i,a){var o,s=!0;n.$watch(function(){return i[0].scrollHeight},function(){0!==i[0].scrollHeight&&(o||(s?t(n,i,i[0].scrollHeight+"px"):t(n,i,"auto")))}),n.$watch(a.collapse,function(e){e?u():c()});var r,l=function(t){return r&&r.cancel(),r=e(i,t),r.then(function(){r=void 0},function(){r=void 0}),r},c=function(){s?(s=!1,o||t(n,i,"auto")):l({height:i[0].scrollHeight+"px"}).then(function(){o||t(n,i,"auto")}),o=!1},u=function(){o=!0,s?(s=!1,t(n,i,0)):(t(n,i,i[0].scrollHeight+"px"),l({height:"0"}))}}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var a=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;a&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(this.groups.indexOf(e),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse","$transition","$timeout",function(e){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:["$scope",function(){this.setHeading=function(e){this.heading=e}}],link:function(t,n,i,a){var o,s;a.addGroup(t),t.isOpen=!1,i.isOpen&&(o=e(i.isOpen),s=o.assign,t.$watch(function(){return o(t.$parent)},function(e){t.isOpen=e}),t.isOpen=o?o(t.$parent):!1),t.$watch("isOpen",function(e){e&&a.closeOthers(t),s&&s(t.$parent,e)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(e,t,n){return function(e,t,i,a){a.setHeading(n(e,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"},link:function(e,t,n){e.closeable="close"in n}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(e){var t=e.activeClass||"active",n=e.toggleEvent||"click";return{require:"ngModel",link:function(e,i,a,o){o.$render=function(){i.toggleClass(t,angular.equals(o.$modelValue,e.$eval(a.btnRadio)))},i.bind(n,function(){i.hasClass(t)||e.$apply(function(){o.$setViewValue(e.$eval(a.btnRadio)),o.$render()})})}}}]).directive("btnCheckbox",["buttonConfig",function(e){var t=e.activeClass||"active",n=e.toggleEvent||"click";return{require:"ngModel",link:function(e,i,a,o){function s(){var t=e.$eval(a.btnCheckboxTrue);return angular.isDefined(t)?t:!0}function r(){var t=e.$eval(a.btnCheckboxFalse);return angular.isDefined(t)?t:!1}o.$render=function(){i.toggleClass(t,angular.equals(o.$modelValue,s()))},i.bind(n,function(){e.$apply(function(){o.$setViewValue(i.hasClass(t)?r():s()),o.$render()})})}}}]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(e,t,n){function i(){function n(){o?(e.next(),i()):e.pause()}a&&t.cancel(a);var s=+e.interval;!isNaN(s)&&s>=0&&(a=t(n,s))}var a,o,s=this,r=s.slides=[],l=-1;s.currentSlide=null,s.select=function(a,o){function c(){s.currentSlide&&angular.isString(o)&&!e.noTransition&&a.$element?(a.$element.addClass(o),a.$element[0].offsetWidth,angular.forEach(r,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(a,{direction:o,active:!0,entering:!0}),angular.extend(s.currentSlide||{},{direction:o,leaving:!0}),e.$currentTransition=n(a.$element,{}),function(t,n){e.$currentTransition.then(function(){u(t,n)},function(){u(t,n)})}(a,s.currentSlide)):u(a,s.currentSlide),s.currentSlide=a,l=h,i()}function u(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var h=r.indexOf(a);void 0===o&&(o=h>l?"next":"prev"),a&&a!==s.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(c)):c())},s.indexOfSlide=function(e){return r.indexOf(e)},e.next=function(){var t=(l+1)%r.length;return e.$currentTransition?void 0:s.select(r[t],"next")},e.prev=function(){var t=0>l-1?r.length-1:l-1;return e.$currentTransition?void 0:s.select(r[t],"prev")},e.select=function(e){s.select(e)},e.isActive=function(e){return s.currentSlide===e},e.slides=function(){return r},e.$watch("interval",i),e.play=function(){o||(o=!0,i())},e.pause=function(){e.noPause||(o=!1,a&&t.cancel(a))},s.addSlide=function(t,n){t.$element=n,r.push(t),1===r.length||t.active?(s.select(r[r.length-1]),1==r.length&&e.play()):t.active=!1},s.removeSlide=function(e){var t=r.indexOf(e);r.splice(t,1),r.length>0&&e.active?t>=r.length?s.select(r[t-1]):s.select(r[t]):l>t&&l--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function(e){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(t,n,i,a){if(i.active){var o=e(i.active),s=o.assign,r=t.active=o(t.$parent);t.$watch(function(){var e=o(t.$parent);return e!==t.active&&(e!==r?r=t.active=e:s(t.$parent,e=r=t.active)),e})}a.addSlide(t,n),t.$on("$destroy",function(){a.removeSlide(t)}),t.$watch("active",function(e){e&&a.select(t)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var a=function(t){for(var n=e[0],a=t.offsetParent||n;a&&a!==n&&i(a);)a=a.offsetParent;return a||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},o=a(t[0]);return o!=e[0]&&(i=this.offset(angular.element(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft),{width:t.prop("offsetWidth"),height:t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:n.prop("offsetWidth"),height:n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(e,t,n,i){function a(t,n){return angular.isDefined(t)?e.$parent.$eval(t):n}function o(e,t){return new Date(e,t,0).getDate()}function s(e,t){for(var n=Array(t),i=e,a=0;t>a;)n[a++]=new Date(i),i.setDate(i.getDate()+1);return n}function r(e,t,i,a){return{date:e,label:n(e,t),selected:!!i,secondary:!!a}}var l={day:a(t.dayFormat,i.dayFormat),month:a(t.monthFormat,i.monthFormat),year:a(t.yearFormat,i.yearFormat),dayHeader:a(t.dayHeaderFormat,i.dayHeaderFormat),dayTitle:a(t.dayTitleFormat,i.dayTitleFormat),monthTitle:a(t.monthTitleFormat,i.monthTitleFormat)},c=a(t.startingDay,i.startingDay),u=a(t.yearRange,i.yearRange);this.minDate=i.minDate?new Date(i.minDate):null,this.maxDate=i.maxDate?new Date(i.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(e,t){var i=e.getFullYear(),a=e.getMonth(),u=new Date(i,a,1),h=c-u.getDay(),p=h>0?7-h:-h,d=new Date(u),f=0;p>0&&(d.setDate(-p+1),f+=p),f+=o(i,a+1),f+=(7-f%7)%7;for(var m=s(d,f),g=Array(7),v=0;f>v;v++){var b=new Date(m[v]);m[v]=r(b,l.day,t&&t.getDate()===b.getDate()&&t.getMonth()===b.getMonth()&&t.getFullYear()===b.getFullYear(),b.getMonth()!==a)}for(var w=0;7>w;w++)g[w]=n(m[w].date,l.dayHeader);return{objects:m,title:n(e,l.dayTitle),labels:g}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(e,t){for(var i=Array(12),a=e.getFullYear(),o=0;12>o;o++){var s=new Date(a,o,1);i[o]=r(s,l.month,t&&t.getMonth()===o&&t.getFullYear()===a)}return{objects:i,title:n(e,l.monthTitle)}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(e,t){for(var n=Array(u),i=e.getFullYear(),a=parseInt((i-1)/u,10)*u+1,o=0;u>o;o++){var s=new Date(a+o,0,1);n[o]=r(s,l.year,t&&t.getFullYear()===s.getFullYear())}return{objects:n,title:[n[0].label,n[u-1].label].join(" - ")}},compare:function(e,t){return e.getFullYear()-t.getFullYear()},split:5,step:{years:u}}],this.isDisabled=function(t,n){var i=this.modes[n||0];return this.minDate&&0>i.compare(t,this.minDate)||this.maxDate&&i.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:i.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(e,t,n,i){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,a,o,s){function r(){e.showWeekNumbers=0===f&&g}function l(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}function c(t){var n=null,a=!0;d.$modelValue&&(n=new Date(d.$modelValue),isNaN(n)?(a=!1,i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):t&&(m=n)),d.$setValidity("date",a);var o=p.modes[f],s=o.getVisibleDates(m,n);angular.forEach(s.objects,function(e){e.disabled=p.isDisabled(e.date,f)}),d.$setValidity("date-disabled",!n||!p.isDisabled(n)),e.rows=l(s.objects,o.split),e.labels=s.labels||[],e.title=s.title}function u(e){f=e,r(),c()}function h(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var p=s[0],d=s[1];if(d){var f=0,m=new Date,g=n.showWeeks;o.showWeeks?e.$parent.$watch(t(o.showWeeks),function(e){g=!!e,r()}):r(),o.min&&e.$parent.$watch(t(o.min),function(e){p.minDate=e?new Date(e):null,c()}),o.max&&e.$parent.$watch(t(o.max),function(e){p.maxDate=e?new Date(e):null,c()}),d.$render=function(){c(!0)},e.select=function(e){if(0===f){var t=new Date(d.$modelValue);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),d.$setViewValue(t),c(!0)}else m=e,u(f-1)},e.move=function(e){var t=p.modes[f].step;m.setMonth(m.getMonth()+e*(t.months||0)),m.setFullYear(m.getFullYear()+e*(t.years||0)),c()},e.toggleMode=function(){u((f+1)%p.modes.length)},e.getWeekNumber=function(t){return 0===f&&e.showWeekNumbers&&7===t.length?h(t[0].date):null}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",closeOnDateSelection:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig",function(e,t,n,i,a,o){return{restrict:"EA",require:"ngModel",link:function(s,r,l,c){function u(e){w?w(s,!!e):v.isOpen=!!e}function h(e){if(e){if(angular.isDate(e))return c.$setValidity("date",!0),e;if(angular.isString(e)){var t=new Date(e);return isNaN(t)?(c.$setValidity("date",!1),void 0):(c.$setValidity("date",!0),t)}return c.$setValidity("date",!1),void 0}return c.$setValidity("date",!0),null}function p(){v.date=c.$modelValue,f()}function d(e,n,i){e&&(s.$watch(t(e),function(e){v[n]=e}),k.attr(i||n,n))}function f(){v.position=i.position(r),v.position.top=v.position.top+r.prop("offsetHeight")}var m=angular.isDefined(l.closeOnDateSelection)?v.$eval(l.closeOnDateSelection):o.closeOnDateSelection,g=l.datepickerPopup||o.dateFormat,v=s.$new();s.$on("$destroy",function(){v.$destroy()});var b,w;l.isOpen&&(b=t(l.isOpen),w=b.assign,s.$watch(b,function(e){v.isOpen=!!e})),v.isOpen=b?b(s):!1;var y=function(e){v.isOpen&&e.target!==r[0]&&v.$apply(function(){u(!1)})},$=function(){v.$apply(function(){u(!0)})},C=angular.element("<datepicker-popup-wrap><datepicker></datepicker></datepicker-popup-wrap>");C.attr({"ng-model":"date","ng-change":"dateSelection()"});var k=C.find("datepicker");l.datepickerOptions&&k.attr(angular.extend({},s.$eval(l.datepickerOptions))),c.$parsers.unshift(h),v.dateSelection=function(){c.$setViewValue(v.date),c.$render(),m&&u(!1)},r.bind("input change keyup",function(){v.$apply(function(){p()})}),c.$render=function(){var e=c.$viewValue?a(c.$viewValue,g):"";r.val(e),p()},d(l.min,"min"),d(l.max,"max"),l.showWeeks?d(l.showWeeks,"showWeeks","show-weeks"):(v.showWeeks=!0,k.attr("show-weeks","showWeeks")),l.dateDisabled&&k.attr("date-disabled",l.dateDisabled);var S=!1,x=!1;v.$watch("isOpen",function(e){e?(f(),n.bind("click",y),x&&r.unbind("focus",$),r[0].focus(),S=!0):(S&&n.unbind("click",y),r.bind("focus",$),x=!0),w&&w(s,e)});var E=t(l.ngModel).assign;v.today=function(){E(s,new Date)},v.clear=function(){E(s,null)},r.after(e(C)(v))}}}]).directive("datepickerPopupWrap",[function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}]),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(e){var t=null,n=angular.noop;return{restrict:"CA",link:function(i,a){i.$watch("$location.path",function(){n()}),a.parent().bind("click",function(){n()}),a.bind("click",function(i){var o=a===t;i.preventDefault(),i.stopPropagation(),t&&n(),o||(a.parent().addClass("open"),t=a,n=function(i){i&&(i.preventDefault(),i.stopPropagation()),e.unbind("click",n),a.parent().removeClass("open"),n=angular.noop,t=null},e.bind("click",n))})}}}]),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;e.length>n;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;e.length>n;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;e.length>i;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(e,t){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(n){t(function(){n.animate=!0}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalWindow",["$timeout",function(e){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(t,n,i){t.windowClass=i.windowClass||"",e(function(){t.animate=!0})}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap",function(e,t,n,i){function a(){for(var e=-1,t=u.keys(),n=0;t.length>n;n++)u.get(t[n]).value.backdrop&&(e=n);return e}function o(e){var t=u.get(e).value;u.remove(e),t.modalDomEl.remove(),-1==a()&&(r.remove(),r=void 0),t.modalScope.$destroy()}var s,r,l=n.$new(!0),c=e.find("body").eq(0),u=i.createNew(),h={};return n.$watch(a,function(e){l.index=e}),e.bind("keydown",function(e){var t;27===e.which&&(t=u.top(),t&&t.value.keyboard&&n.$apply(function(){h.dismiss(t.key)}))}),h.open=function(e,n){u.add(e,{deferred:n.deferred,modalScope:n.scope,backdrop:n.backdrop,keyboard:n.keyboard});var i=angular.element("<div modal-window></div>");i.attr("window-class",n.windowClass),i.attr("index",u.length()-1),i.html(n.content);var o=t(i)(n.scope);u.top().value.modalDomEl=o,c.append(o),a()>=0&&!r&&(s=angular.element("<div modal-backdrop></div>"),r=t(s)(l),c.append(r))},h.close=function(e,t){var n=u.get(e);n&&(n.value.deferred.resolve(t),o(e))},h.dismiss=function(e,t){var n=u.get(e).value;n&&(n.deferred.reject(t),o(e))},h.getTop=function(){return u.top()},h}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,i,a,o,s,r){function l(e){return e.template?i.when(e.template):a.get(e.templateUrl,{cache:o}).then(function(e){return e.data})}function c(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(i.when(t.invoke(e)))}),n}var u={};return u.open=function(t){var a=i.defer(),o=i.defer(),u={result:a.promise,opened:o.promise,close:function(e){r.close(u,e)},dismiss:function(e){r.dismiss(u,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw Error("One of template or templateUrl options is required.");var h=i.all([l(t)].concat(c(t.resolve)));return h.then(function(e){var i=(t.scope||n).$new();i.$close=u.close,i.$dismiss=u.dismiss;var o,l={},c=1;t.controller&&(l.$scope=i,l.$modalInstance=u,angular.forEach(t.resolve,function(t,n){l[n]=e[c++]}),o=s(t.controller,l)),r.open(u,{scope:i,deferred:a,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass})},function(e){a.reject(e)}),h.then(function(){o.resolve(!0)},function(){o.reject(!1)}),u},u}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(e,t,n,i){var a=this;this.init=function(i){t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=i},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===e.totalPages},this.isActive=function(e){return this.page===e},this.calculateTotalPages=function(){return 1>this.itemsPerPage?1:Math.ceil(e.totalItems/this.itemsPerPage)},this.getAttributeValue=function(t,n,a){return angular.isDefined(t)?a?i(t)(e.$parent):e.$parent.$eval(t):n},this.render=function(){this.page=parseInt(e.page,10)||1,e.pages=this.getPages(this.page,e.totalPages)},e.selectPage=function(t){!a.isActive(t)&&t>0&&e.totalPages>=t&&(e.page=t,e.onSelectPage({page:t}))},e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(n){t.numPages&&(e.numPages=n),a.page>n?e.selectPage(n):a.render()}),e.$watch("page",function(){a.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &",numPages:"="},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,a,o){function s(e,t,n,i){return{number:e,text:t,active:n,disabled:i}}var r,l=o.getAttributeValue(a.boundaryLinks,t.boundaryLinks),c=o.getAttributeValue(a.directionLinks,t.directionLinks),u=o.getAttributeValue(a.firstText,t.firstText,!0),h=o.getAttributeValue(a.previousText,t.previousText,!0),p=o.getAttributeValue(a.nextText,t.nextText,!0),d=o.getAttributeValue(a.lastText,t.lastText,!0),f=o.getAttributeValue(a.rotate,t.rotate);o.init(t.itemsPerPage),a.maxSize&&n.$parent.$watch(e(a.maxSize),function(e){r=parseInt(e,10),o.render()}),o.getPages=function(e,t){var n=[],i=1,a=t,m=angular.isDefined(r)&&t>r;m&&(f?(i=Math.max(e-Math.floor(r/2),1),a=i+r-1,a>t&&(a=t,i=a-r+1)):(i=(Math.ceil(e/r)-1)*r+1,a=Math.min(i+r-1,t)));for(var g=i;a>=g;g++){var v=s(g,g,o.isActive(g),!1);n.push(v)}if(m&&!f){if(i>1){var b=s(i-1,"...",!1,!1);n.unshift(b)}if(t>a){var w=s(a+1,"...",!1,!1);n.push(w)}}if(c){var y=s(e-1,h,!1,o.noPrevious());n.unshift(y);var $=s(e+1,p,!1,o.noNext());n.push($)}if(l){var C=s(1,u,!1,o.noPrevious());n.unshift(C);var k=s(t,d,!1,o.noNext());n.push(k)}return n}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &",numPages:"="},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,i,a){function o(e,t,n,i,a){return{number:e,text:t,disabled:n,previous:l&&i,next:l&&a}}var s=a.getAttributeValue(i.previousText,e.previousText,!0),r=a.getAttributeValue(i.nextText,e.nextText,!0),l=a.getAttributeValue(i.align,e.align);a.init(e.itemsPerPage),a.getPages=function(e){return[o(e-1,s,a.noPrevious(),!0,!1),o(e+1,r,a.noNext(),!1,!0)]}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(a,o,s,r,l,c,u){return function(a,h,p){function d(e){var t=e||f.trigger||p,i=n[t]||t;return{show:t,hide:i}}var f=angular.extend({},t,i),m=e(a),g=u.startSymbol(),v=u.endSymbol(),b="<"+m+"-popup "+'title="'+g+"tt_title"+v+'" '+'content="'+g+"tt_content"+v+'" '+'placement="'+g+"tt_placement"+v+'" '+'animation="tt_animation()" '+'is-open="tt_isOpen"'+">"+"</"+m+"-popup>";return{restrict:"EA",scope:!0,link:function(e,t,n){function i(){e.tt_isOpen?p():u()}function u(){e.tt_popupDelay?w=s(m,e.tt_popupDelay):e.$apply(m)}function p(){e.$apply(function(){g()})}function m(){var n,i,a,o;if(e.tt_content){switch(v&&s.cancel(v),$.css({top:0,left:0,display:"block"}),C?(y=y||l.find("body"),y.append($)):t.after($),n=C?c.offset(t):c.position(t),i=$.prop("offsetWidth"),a=$.prop("offsetHeight"),e.tt_placement){case"right":o={top:n.top+n.height/2-a/2,left:n.left+n.width};break;case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"left":o={top:n.top+n.height/2-a/2,left:n.left-i};break;default:o={top:n.top-a,left:n.left+n.width/2-i/2}}o.top+="px",o.left+="px",$.css(o),e.tt_isOpen=!0}}function g(){e.tt_isOpen=!1,s.cancel(w),angular.isDefined(e.tt_animation)&&e.tt_animation()?v=s(function(){$.remove()},500):$.remove()}var v,w,y,$=o(b)(e),C=angular.isDefined(f.appendToBody)?f.appendToBody:!1,k=d(void 0),S=!1;e.tt_isOpen=!1,n.$observe(a,function(t){e.tt_content=t}),n.$observe(h+"Title",function(t){e.tt_title=t}),n.$observe(h+"Placement",function(t){e.tt_placement=angular.isDefined(t)?t:f.placement}),n.$observe(h+"Animation",function(t){e.tt_animation=angular.isDefined(t)?r(t):function(){return f.animation}}),n.$observe(h+"PopupDelay",function(t){var n=parseInt(t,10);e.tt_popupDelay=isNaN(n)?f.popupDelay:n}),n.$observe(h+"Trigger",function(e){S&&(t.unbind(k.show,u),t.unbind(k.hide,p)),k=d(e),k.show===k.hide?t.bind(k.show,i):(t.bind(k.show,u),t.bind(k.hide,p)),S=!0}),n.$observe(h+"AppendToBody",function(t){C=angular.isDefined(t)?r(t)(e):C}),C&&e.$on("$locationChangeSuccess",function(){e.tt_isOpen&&g()}),e.$on("$destroy",function(){e.tt_isOpen?g():$.remove()})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window","$tooltip",function(e,t,n,i,a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,autoType:!1,stackedTypes:["success","info","warning","danger"]}).controller("ProgressBarController",["$scope","$attrs","progressConfig",function(e,t,n){function i(e){return s[e]}var a=angular.isDefined(t.animate)?e.$eval(t.animate):n.animate,o=angular.isDefined(t.autoType)?e.$eval(t.autoType):n.autoType,s=angular.isDefined(t.stackedTypes)?e.$eval("["+t.stackedTypes+"]"):n.stackedTypes;this.makeBar=function(e,t,n){var s=angular.isObject(e)?e.value:e||0,r=angular.isObject(t)?t.value:t||0,l=angular.isObject(e)&&angular.isDefined(e.type)?e.type:o?i(n||0):null;return{from:r,to:s,type:l,animate:a}},this.addBar=function(t){e.bars.push(t),e.totalPercent+=t.to},this.clearBars=function(){e.bars=[],e.totalPercent=0},this.clearBars()}]).directive("progress",function(){return{restrict:"EA",replace:!0,controller:"ProgressBarController",scope:{value:"=percent",onFull:"&",onEmpty:"&"},templateUrl:"template/progressbar/progress.html",link:function(e,t,n,i){e.$watch("value",function(e,t){if(i.clearBars(),angular.isArray(e))for(var n=0,a=e.length;a>n;n++)i.addBar(i.makeBar(e[n],t[n],n));else i.addBar(i.makeBar(e,t))},!0),e.$watch("totalPercent",function(t){t>=100?e.onFull():0>=t&&e.onEmpty()},!0)}}}).directive("progressbar",["$transition",function(e){return{restrict:"EA",replace:!0,scope:{width:"=",old:"=",type:"=",animate:"="},templateUrl:"template/progressbar/bar.html",link:function(t,n){t.$watch("width",function(i){t.animate?(n.css("width",t.old+"%"),e(n,{width:i+"%"})):n.css("width",i+"%")})}}}]),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(e,t,n,i){this.maxRange=angular.isDefined(t.max)?e.$parent.$eval(t.max):i.max,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):i.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):i.stateOff,this.createDefaultRange=function(e){for(var t={stateOn:this.stateOn,stateOff:this.stateOff},n=Array(e),i=0;e>i;i++)n[i]=t;return n},this.normalizeRange=function(e){for(var t=0,n=e.length;n>t;t++)e[t].stateOn=e[t].stateOn||this.stateOn,e[t].stateOff=e[t].stateOff||this.stateOff;return e},e.range=angular.isDefined(t.ratingStates)?this.normalizeRange(angular.copy(e.$parent.$eval(t.ratingStates))):this.createDefaultRange(this.maxRange),e.rate=function(t){e.readonly||e.value===t||(e.value=t)},e.enter=function(t){e.readonly||(e.val=t),e.onHover({value:t})},e.reset=function(){e.val=angular.copy(e.value),e.onLeave()},e.$watch("value",function(t){e.val=t}),e.readonly=!1,t.readonly&&e.$parent.$watch(n(t.readonly),function(t){e.readonly=!!t})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("ui.bootstrap.tabs",[]).directive("tabs",function(){return function(){throw Error("The `tabs` directive is deprecated, please migrate to `tabset`. Instructions can be found at http://github.com/angular-ui/bootstrap/tree/master/CHANGELOG.md")}}).controller("TabsetController",["$scope","$element",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(e){e.active=!1}),e.active=!0},t.addTab=function(e){n.push(e),(1===n.length||e.active)&&t.select(e)},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1){var a=i==n.length-1?i-1:i+1;t.select(n[a])}n.splice(i,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,require:"^tabset",scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",compile:function(e,t,n){return function(e,t,i,a){e.vertical=angular.isDefined(i.vertical)?e.$parent.$eval(i.vertical):!1,e.type=angular.isDefined(i.type)?e.$parent.$eval(i.type):"tabs",e.direction=angular.isDefined(i.direction)?e.$parent.$eval(i.direction):"top",e.tabsAbove="below"!=e.direction,a.$scope=e,a.$transcludeFn=n}}}}).directive("tab",["$parse","$http","$templateCache","$compile",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,i){return function(t,n,a,o){var s,r;a.active?(s=e(a.active),r=s.assign,t.$parent.$watch(s,function(e){t.active=!!e}),t.active=s(t.$parent)):r=s=angular.noop,t.$watch("active",function(e){r(t.$parent,e),e?(o.select(t),t.onSelect()):t.onDeselect()}),t.disabled=!1,a.disabled&&t.$parent.$watch(e(a.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},o.addTab(t),t.$on("$destroy",function(){o.removeTab(t)}),t.active&&r(t.$parent,!0),t.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",["$compile","$parse",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,i){var a=t.$eval(i.tabContentTransclude);a.$transcludeFn(a.$parent,function(t){angular.forEach(t,function(t){e(t)?a.headingElement=t:n.append(t)})})}}}]).directive("tabsetTitles",["$http",function(){return{restrict:"A",require:"^tabset",templateUrl:"template/tabs/tabset-titles.html",replace:!0,link:function(e,t,n,i){e.$eval(n.tabsetTitles)?i.$transcludeFn(i.$scope.$parent,function(e){t.append(e)}):t.remove()}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:["AM","PM"],readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig",function(e,t,n){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(i,a,o,s){function r(){var e=parseInt(i.hours,10),t=i.showMeridian?e>0&&13>e:e>=0&&24>e;
return t?(i.showMeridian&&(12===e&&(e=0),i.meridian===m[1]&&(e+=12)),e):void 0}function l(){var e=parseInt(i.minutes,10);return e>=0&&60>e?e:void 0}function c(e){return angular.isDefined(e)&&2>(""+e).length?"0"+e:e}function u(e){h(),s.$setViewValue(new Date(f)),p(e)}function h(){s.$setValidity("time",!0),i.invalidHours=!1,i.invalidMinutes=!1}function p(e){var t=f.getHours(),n=f.getMinutes();i.showMeridian&&(t=0===t||12===t?12:t%12),i.hours="h"===e?t:c(t),i.minutes="m"===e?n:c(n),i.meridian=12>f.getHours()?m[0]:m[1]}function d(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),u()}if(s){var f=new Date,m=n.meridians,g=n.hourStep;o.hourStep&&i.$parent.$watch(e(o.hourStep),function(e){g=parseInt(e,10)});var v=n.minuteStep;o.minuteStep&&i.$parent.$watch(e(o.minuteStep),function(e){v=parseInt(e,10)}),i.showMeridian=n.showMeridian,o.showMeridian&&i.$parent.$watch(e(o.showMeridian),function(e){if(i.showMeridian=!!e,s.$error.time){var t=r(),n=l();angular.isDefined(t)&&angular.isDefined(n)&&(f.setHours(t),u())}else p()});var b=a.find("input"),w=b.eq(0),y=b.eq(1),$=angular.isDefined(o.mousewheel)?i.$eval(o.mousewheel):n.mousewheel;if($){var C=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};w.bind("mousewheel wheel",function(e){i.$apply(C(e)?i.incrementHours():i.decrementHours()),e.preventDefault()}),y.bind("mousewheel wheel",function(e){i.$apply(C(e)?i.incrementMinutes():i.decrementMinutes()),e.preventDefault()})}if(i.readonlyInput=angular.isDefined(o.readonlyInput)?i.$eval(o.readonlyInput):n.readonlyInput,i.readonlyInput)i.updateHours=angular.noop,i.updateMinutes=angular.noop;else{var k=function(e,t){s.$setViewValue(null),s.$setValidity("time",!1),angular.isDefined(e)&&(i.invalidHours=e),angular.isDefined(t)&&(i.invalidMinutes=t)};i.updateHours=function(){var e=r();angular.isDefined(e)?(f.setHours(e),u("h")):k(!0)},w.bind("blur",function(){!i.validHours&&10>i.hours&&i.$apply(function(){i.hours=c(i.hours)})}),i.updateMinutes=function(){var e=l();angular.isDefined(e)?(f.setMinutes(e),u("m")):k(void 0,!0)},y.bind("blur",function(){!i.invalidMinutes&&10>i.minutes&&i.$apply(function(){i.minutes=c(i.minutes)})})}s.$render=function(){var e=s.$modelValue?new Date(s.$modelValue):null;isNaN(e)?(s.$setValidity("time",!1),t.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),h(),p())},i.incrementHours=function(){d(60*g)},i.decrementHours=function(){d(60*-g)},i.incrementMinutes=function(){d(v)},i.decrementMinutes=function(){d(-v)},i.toggleMeridian=function(){d(720*(12>f.getHours()?1:-1))}}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var i=n.match(t);if(!i)throw Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+n+"'.");return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,i,a,o,s){var r=[9,13,27,38,40];return{require:"ngModel",link:function(l,c,u,h){var p=l.$eval(u.typeaheadMinLength)||1,d=l.$eval(u.typeaheadWaitMs)||0,f=l.$eval(u.typeaheadEditable)!==!1,m=t(u.typeaheadLoading).assign||angular.noop,g=t(u.typeaheadOnSelect),v=u.typeaheadInputFormatter?t(u.typeaheadInputFormatter):void 0,b=t(u.ngModel).assign,w=s.parse(u.typeahead),y=angular.element("<typeahead-popup></typeahead-popup>");y.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&y.attr("template-url",u.typeaheadTemplateUrl);var $=l.$new();l.$on("$destroy",function(){$.$destroy()});var C=function(){$.matches=[],$.activeIdx=-1},k=function(e){var t={$viewValue:e};m(l,!0),n.when(w.source($,t)).then(function(n){if(e===h.$viewValue){if(n.length>0){$.activeIdx=0,$.matches.length=0;for(var i=0;n.length>i;i++)t[w.itemName]=n[i],$.matches.push({label:w.viewMapper($,t),model:n[i]});$.query=e,$.position=o.position(c),$.position.top=$.position.top+c.prop("offsetHeight")}else C();m(l,!1)}},function(){C(),m(l,!1)})};C(),$.query=void 0;var S;h.$parsers.unshift(function(e){return C(),e&&e.length>=p&&(d>0?(S&&i.cancel(S),S=i(function(){k(e)},d)):k(e)),f?e:(h.$setValidity("editable",!1),void 0)}),h.$formatters.push(function(e){var t,n,i={};return v?(i.$model=e,v(l,i)):(i[w.itemName]=e,t=w.viewMapper(l,i),i[w.itemName]=void 0,n=w.viewMapper(l,i),t!==n?t:e)}),$.select=function(e){var t,n,i={};i[w.itemName]=n=$.matches[e].model,t=w.modelMapper(l,i),b(l,t),h.$setValidity("editable",!0),g(l,{$item:n,$model:t,$label:w.viewMapper(l,i)}),C(),c[0].focus()},c.bind("keydown",function(e){0!==$.matches.length&&-1!==r.indexOf(e.which)&&(e.preventDefault(),40===e.which?($.activeIdx=($.activeIdx+1)%$.matches.length,$.$digest()):38===e.which?($.activeIdx=($.activeIdx?$.activeIdx:$.matches.length)-1,$.$digest()):13===e.which||9===e.which?$.$apply(function(){$.select($.activeIdx)}):27===e.which&&(e.stopPropagation(),C(),$.$digest()))});var x=function(e){c[0]!==e.target&&(C(),$.$digest())};a.bind("click",x),l.$on("$destroy",function(){a.unbind("click",x)}),c.after(e(y)($))}}}]).directive("typeaheadPopup",function(){return{restrict:"E",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,i){return{restrict:"E",scope:{index:"=",match:"=",query:"="},link:function(a,o,s){var r=i(s.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";e.get(r,{cache:t}).success(function(e){o.replaceWith(n(e.trim())(a))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?t.replace(RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="accordion-group">\n  <div class="accordion-heading" ><a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a></div>\n  <div class="accordion-body" collapse="!isOpen">\n    <div class="accordion-inner" ng-transclude></div>  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="accordion" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html","<div class='alert' ng-class='type && \"alert-\" + type'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a ng-click="prev()" class="carousel-control left" ng-show="slides().length > 1">&lsaquo;</a>\n    <a ng-click="next()" class="carousel-control right" ng-show="slides().length > 1">&rsaquo;</a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<table>\n  <thead>\n    <tr class="text-center">\n      <th><button type="button" class="btn pull-left" ng-click="move(-1)"><i class="icon-chevron-left"></i></button></th>\n      <th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button type="button" class="btn btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn pull-right" ng-click="move(1)"><i class="icon-chevron-right"></i></button></th>\n    </tr>\n    <tr class="text-center" ng-show="labels.length > 0">\n      <th ng-show="showWeekNumbers">#</th>\n      <th ng-repeat="label in labels">{{label}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows">\n      <td ng-show="showWeekNumbers" class="text-center"><em>{{ getWeekNumber(row) }}</em></td>\n      <td ng-repeat="dt in row" class="text-center">\n        <button type="button" style="width:100%;" class="btn" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{muted: dt.secondary}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" class="dropdown-menu">\n <li ng-transclude></li>\n <li class="divider"></li>\n <li style="padding: 9px;">\n   <span class="btn-group">\n     <button class="btn btn-small btn-inverse" ng-click="today()">Today</button>\n     <button class="btn btn-small btn-info" ng-click="showWeeks = ! showWeeks" ng-class="{active: showWeeks}">Weeks</button>\n     <button class="btn btn-small btn-danger" ng-click="clear()">Clear</button>\n   </span>\n   <button class="btn btn-small btn-success pull-right" ng-click="isOpen = false">Close</button>\n </li>\n</ul>')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}" ng-click="close($event)"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10}" ng-transclude></div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<div class="pager">\n  <ul>\n    <li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  </ul>\n</div>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<div class="pagination"><ul>\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  </ul>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="bar" ng-class=\'type && "bar-" + type\'></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress"><progressbar ng-repeat="bar in bars" width="bar.to" old="bar.from" animate="bar.animate" type="bar.type"></progressbar></div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n <i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" ng-class="$index < val && (r.stateOn || \'icon-star\') || (r.stateOff || \'icon-star-empty\')"></i>\n</span>')}]),angular.module("template/tabs/pane.html",[]).run(["$templateCache",function(e){e.put("template/tabs/pane.html",'<div class="tab-pane" ng-class="{active: selected}" ng-show="selected" ng-transclude></div>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabs.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabs.html",'<div class="tabbable">\n  <ul class="nav nav-tabs">\n    <li ng-repeat="pane in panes" ng-class="{active:pane.selected}">\n      <a ng-click="select(pane)">{{pane.heading}}</a>\n    </li>\n  </ul>\n  <div class="tab-content" ng-transclude></div>\n</div>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'\n<div class="tabbable" ng-class="{\'tabs-right\': direction == \'right\', \'tabs-left\': direction == \'left\', \'tabs-below\': direction == \'below\'}">\n  <div tabset-titles="tabsAbove"></div>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n  <div tabset-titles="!tabsAbove"></div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table class="form-inline">\n <tr class="text-center">\n   <td><a ng-click="incrementHours()" class="btn btn-link"><i class="icon-chevron-up"></i></a></td>\n   <td>&nbsp;</td>\n   <td><a ng-click="incrementMinutes()" class="btn btn-link"><i class="icon-chevron-up"></i></a></td>\n   <td ng-show="showMeridian"></td>\n </tr>\n <tr>\n   <td class="control-group" ng-class="{\'error\': invalidHours}"><input type="text" ng-model="hours" ng-change="updateHours()" class="span1 text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2" /></td>\n   <td>:</td>\n   <td class="control-group" ng-class="{\'error\': invalidMinutes}"><input type="text" ng-model="minutes" ng-change="updateMinutes()" class="span1 text-center" ng-readonly="readonlyInput" maxlength="2"></td>\n   <td ng-show="showMeridian"><button type="button" ng-click="toggleMeridian()" class="btn text-center">{{meridian}}</button></td>\n </tr>\n <tr class="text-center">\n   <td><a ng-click="decrementHours()" class="btn btn-link"><i class="icon-chevron-down"></i></a></td>\n   <td>&nbsp;</td>\n   <td><a ng-click="decrementMinutes()" class="btn btn-link"><i class="icon-chevron-down"></i></a></td>\n   <td ng-show="showMeridian"></td>\n </tr>\n</table>')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="typeahead dropdown-menu" ng-style="{display: isOpen()&&\'block\' || \'none\', top: position.top+\'px\', left: position.left+\'px\'}">\n    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)">\n        <typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></typeahead-match>\n    </li>\n</ul>')}]),angular.module("template/typeahead/typeahead.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead.html",'<ul class="typeahead dropdown-menu" ng-style="{display: isOpen()&&\'block\' || \'none\', top: position.top+\'px\', left: position.left+\'px\'}">\n    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)">\n        <a tabindex="-1" ng-click="selectMatch($index)" ng-bind-html-unsafe="match.label | typeaheadHighlight:query"></a>\n    </li>\n</ul>')}]),angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,i){var a,o;e.$watch(i.uiIf,function(i){a&&(a.remove(),a=void 0),o&&(o.$destroy(),o=void 0),i&&(o=e.$new(),n(o,function(e){a=e,t.after(e)}))})}}}}]),function(e){e.fn.each2===void 0&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),i=-1,a=this.length;a>++i&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(e){var t,n,i,a;if(!e||1>e.length)return e;for(t="",n=0,i=e.length;i>n;n++)a=e.charAt(n),t+=L[a]||a;return t}function i(e,t){for(var n=0,i=t.length;i>n;n+=1)if(o(e,t[n]))return n;return-1}function a(){var t=e(R);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function o(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function s(t,n){var i,a,o;if(null===t||1>t.length)return[];for(i=t.split(n),a=0,o=i.length;o>a;a+=1)i[a]=e.trim(i[a]);return i}function r(e){return e.outerWidth(!1)-e.width()}function l(n){var i="keyup-change-value";n.on("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.on("keyup",function(){var a=e.data(n,i);a!==t&&n.val()!==a&&(e.removeData(n,i),n.trigger("keyup-change"))})}function c(n){n.on("mousemove",function(n){var i=U;(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function u(e,n,i){i=i||t;var a;return function(){var t=arguments;window.clearTimeout(a),a=window.setTimeout(function(){n.apply(i,t)},e)}}function h(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function p(e,t){var n=u(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){i(e.target,t.get())>=0&&n(e)})}function d(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus(),e.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var n=0,i=0;if("selectionStart"in t)n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var a=document.selection.createRange();i=document.selection.createRange().text.length,a.moveStart("character",-t.value.length),n=a.text.length-i}return{offset:n,length:i}}function m(e){e.preventDefault(),e.stopPropagation()}function g(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!F){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);F=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),F.attr("class","select2-sizer"),e("body").append(F)}return F.text(t.val()),F.width()}function b(t,n,i){var a,o,s=[];a=t.attr("class"),a&&(a=""+a,e(a.split(" ")).each2(function(){0===this.indexOf("select2-")&&s.push(this)})),a=n.attr("class"),a&&(a=""+a,e(a.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&s.push(this))})),t.attr("class",s.join(" "))}function w(e,i,a,o){var s=n(e.toUpperCase()).indexOf(n(i.toUpperCase())),r=i.length;return 0>s?(a.push(o(e)),t):(a.push(o(e.substring(0,s))),a.push("<span class='select2-match'>"),a.push(o(e.substring(s,s+r))),a.push("</span>"),a.push(o(e.substring(s+r,e.length))),t)}function y(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return(e+"").replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function $(n){var i,a=null,o=n.quietMillis||100,s=n.url,r=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,o=s,c=n.transport||e.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},h=e.extend({},e.fn.select2.ajaxDefaults.params,u);i=i?i.call(r,l.term,l.page,l.context):null,o="function"==typeof o?o.call(r,l.term,l.page,l.context):o,a&&a.abort(),n.params&&(e.isFunction(n.params)?e.extend(h,n.params.call(r)):e.extend(h,n.params)),e.extend(h,{url:o,dataType:n.dataType,data:i,success:function(e){var t=n.results(e,l.page);l.callback(t)}}),a=c.call(r,h)},o)}}function C(n){var i,a,o=n,s=function(e){return""+e.text};e.isArray(o)&&(a=o,o={results:a}),e.isFunction(o)===!1&&(a=o,o=function(){return a});var r=o();return r.text&&(s=r.text,e.isFunction(s)||(i=r.text,s=function(e){return e[i]})),function(n){var i,a=n.term,r={results:[]};return""===a?(n.callback(o()),t):(i=function(t,o){var r,l;if(t=t[0],t.children){r={};for(l in t)t.hasOwnProperty(l)&&(r[l]=t[l]);r.children=[],e(t.children).each2(function(e,t){i(t,r.children)}),(r.children.length||n.matcher(a,s(r),t))&&o.push(r)}else n.matcher(a,s(t),t)&&o.push(t)},e(o().results).each2(function(e,t){i(t,r.results)}),n.callback(r),t)}}function k(n){var i=e.isFunction(n);return function(a){var o=a.term,s={results:[]};e(i?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===o||a.matcher(o,n))&&s.results.push(e?this:{id:this,text:this})}),a.callback(s)}}function S(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw Error(n+" must be a function or a falsy value")}function x(t){return e.isFunction(t)?t():t}function E(t){var n=0;return e.each(t,function(e,t){t.children?n+=E(t.children):n++}),n}function T(e,n,i,a){var s,r,l,c,u,h=e,p=!1;if(!a.createSearchChoice||!a.tokenSeparators||1>a.tokenSeparators.length)return t;for(;;){for(r=-1,l=0,c=a.tokenSeparators.length;c>l&&(u=a.tokenSeparators[l],r=e.indexOf(u),!(r>=0));l++);if(0>r)break;if(s=e.substring(0,r),e=e.substring(r+u.length),s.length>0&&(s=a.createSearchChoice.call(this,s,n),s!==t&&null!==s&&a.id(s)!==t&&null!==a.id(s))){for(p=!1,l=0,c=n.length;c>l;l++)if(o(a.id(s),a.id(n[l]))){p=!0;break}p||i(s)}}return h!==e?e:t}function D(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var A,O,P,I,M,F,H,N,U={x:0,y:0},A={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case A.LEFT:case A.RIGHT:case A.UP:case A.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case A.SHIFT:case A.CTRL:case A.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},R="<div class='select2-measure-scrollbar'></div>",L={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z"};H=e(document),M=function(){var e=1;return function(){return e++}}(),H.on("mousemove",function(e){U.x=e.pageX,U.y=e.pageY}),O=D(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var i,o,s,r,u=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+M()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=h(function(){return n.element.closest("body")
}),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(x(n.containerCss)),this.container.addClass(x(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(x(n.dropdownCssClass)),this.dropdown.data("select2",this),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.results=i=this.container.find(u),this.search=o=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),c(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",u,this.bind(this.highlightUnderEvent)),p(80,this.results),this.dropdown.on("scroll-debounced",u,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&i.mousewheel(function(e,t,n,a){var o=i.scrollTop();a>0&&0>=o-a?(i.scrollTop(0),m(e)):0>a&&i.get(0).scrollHeight-i.scrollTop()+a<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),m(e))}),l(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",u,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var s=n.element.prop("disabled");s===t&&(s=!1),this.enable(!s);var r=n.element.prop("readonly");r===t&&(r=!1),this.readonly(r),N=N||a(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=t},destroy:function(){var e=this.opts.element,n=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==t&&(n.container.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:o(e.attr("locked"),"locked")||o(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:t},prepareOpts:function(n){var i,a,r,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=a=n.element),a&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,a,o){var s,r=this.opts.id;s=function(i,a,l){var u,h,p,d,f,m,g,v,b,w;for(i=n.sortResults(i,a,o),u=0,h=i.length;h>u;u+=1)p=i[u],f=p.disabled===!0,d=!f&&r(p)!==t,m=p.children&&p.children.length>0,g=e("<li></li>"),g.addClass("select2-results-dept-"+l),g.addClass("select2-result"),g.addClass(d?"select2-result-selectable":"select2-result-unselectable"),f&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(c.opts.formatResultCssClass(p)),v=e(document.createElement("div")),v.addClass("select2-result-label"),w=n.formatResult(p,v,o,c.opts.escapeMarkup),w!==t&&v.html(w),g.append(v),m&&(b=e("<ul></ul>"),b.addClass("select2-result-sub"),s(p.children,b,l+1),g.append(b)),g.data("select2-data",p),a.append(g)},s(a,i,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(r=n.id,n.id=function(e){return e[r]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(a?(n.query=this.bind(function(e){var n,a,o,s={results:[],more:!1},r=e.term;o=function(t,n){var i;t.is("option")?e.matcher(r,t.text(),t)&&n.push(c.optionToData(t)):t.is("optgroup")&&(i=c.optionToData(t),t.children().each2(function(e,t){o(t,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==t&&n.length>0&&(a=this.getPlaceholderOption(),a&&(n=n.not(a))),n.each2(function(e,t){o(t,s.results)}),e.callback(s)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=$.call(n.element,n.ajax)):"data"in n?n.query=C(n.data):"tags"in n&&(n.query=k(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(i,a){var r=[];e(s(i.val(),n.separator)).each(function(){var i=this,a=this,s=n.tags;e.isFunction(s)&&(s=s()),e(s).each(function(){return o(this.id,i)?(a=this.text,!1):t}),r.push({id:i,text:a})}),a(r)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e,n=this.opts.element;n.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e,i=n.prop("disabled");i===t&&(i=!1),this.enable(!i);var e=n.prop("readonly");e===t&&(e=!1),this.readonly(e),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(x(this.opts.containerCssClass)),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(this.opts.dropdownCssClass))}),n.on("propertychange.select2 DOMAttrModified.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){return e===t&&(e=!1),this._readonly===e?!1:(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,i,a,o=this.dropdown,s=this.container.offset(),r=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=o.outerHeight(!1),u=e(window).scrollLeft()+e(window).width(),h=e(window).scrollTop()+e(window).height(),p=s.top+r,d=s.left,f=h>=p+c,m=s.top-c>=this.body().scrollTop(),g=o.outerWidth(!1),v=u>=d+g,b=o.hasClass("select2-drop-above");this.opts.dropdownAutoWidth?(a=e(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),g=o.outerWidth(!1)+(a.scrollHeight===a.clientHeight?0:N.width),g>l?l=g:g=l,v=u>=d+g):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),p-=t.top,d-=t.left),b?(n=!0,!m&&f&&(n=!1)):(n=!1,!f&&m&&(n=!0)),v||(d=s.left+l-g),n?(p=s.top-c,this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),i=e.extend({top:p,left:d,width:l},x(this.opts.dropdownCss)),o.css(i)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t,n=this.containerId,i="scroll."+n,a="resize."+n,o="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",function(t){var n,i=e("#select2-drop");i.length>0&&(n=i.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close({focus:!1}),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){e(this).on(a+" "+i+" "+o,function(){s.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,i="resize."+t,a="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(i).off(a)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return x(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var n,i,a,o,s,r,l,c=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return c.scrollTop(0),t;n=this.findHighlightableChoices().find(".select2-result-label"),a=e(n[i]),o=a.offset().top+a.outerHeight(!0),i===n.length-1&&(l=c.find("li.select2-more-results"),l.length>0&&(o=l.offset().top+l.outerHeight(!0))),s=c.offset().top+c.outerHeight(!0),o>s&&c.scrollTop(c.scrollTop()+(o-s)),r=a.offset().top-c.offset().top,0>r&&"none"!=a.css("display")&&c.scrollTop(c.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&n.length>i;){i+=t;var a=e(n[i]);if(a.hasClass("select2-result-selectable")&&!a.hasClass("select2-disabled")&&!a.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(n){var a,o,s=this.findHighlightableChoices();return 0===arguments.length?i(s.filter(".select2-highlighted")[0],s.get()):(n>=s.length&&(n=s.length-1),0>n&&(n=0),this.removeHighlight(),a=e(s[n]),a.addClass("select2-highlighted"),this.ensureHighlightVisible(),o=a.data("select2-data"),o&&this.opts.element.trigger({type:"select2-highlight",val:this.id(o),choice:o}),t)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,a=this,o=this.search.val(),s=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),this.opts.loadMorePadding>=e&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:s,matcher:this.opts.matcher,callback:this.bind(function(e){a.opened()&&(a.opts.populateResults.call(this,t,e.results,{term:o,page:i,context:s}),a.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(a.opts.formatLoadMore(i+1)),window.setTimeout(function(){a.loadMoreIfNeeded()},10)):n.remove(),a.positionDropdown(),a.resultsPage=i,a.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function i(){c.removeClass("select2-active"),p.positionDropdown()}function a(e){u.html(e),i()}var s,r,l,c=this.search,u=this.results,h=this.opts,p=this,d=c.val(),f=e.data(this.container,"select2-last-term");if((n===!0||!f||!o(d,f))&&(e.data(this.container,"select2-last-term",d),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(s=this.data(),e.isArray(s)&&s.length>=m&&S(h.formatSelectionTooBig,"formatSelectionTooBig")))return a("<li class='select2-selection-limit'>"+h.formatSelectionTooBig(m)+"</li>"),t;if(c.val().length<h.minimumInputLength)return S(h.formatInputTooShort,"formatInputTooShort")?a("<li class='select2-no-results'>"+h.formatInputTooShort(c.val(),h.minimumInputLength)+"</li>"):a(""),n&&this.showSearch&&this.showSearch(!0),t;if(h.maximumInputLength&&c.val().length>h.maximumInputLength)return S(h.formatInputTooLong,"formatInputTooLong")?a("<li class='select2-no-results'>"+h.formatInputTooLong(c.val(),h.maximumInputLength)+"</li>"):a(""),t;h.formatSearching&&0===this.findHighlightableChoices().length&&a("<li class='select2-searching'>"+h.formatSearching()+"</li>"),c.addClass("select2-active"),this.removeHighlight(),r=this.tokenize(),r!=t&&null!=r&&c.val(r),this.resultsPage=1,h.query({element:h.element,term:c.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(s){var r;if(l==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),t;if(this.context=s.context===t?null:s.context,this.opts.createSearchChoice&&""!==c.val()&&(r=this.opts.createSearchChoice.call(p,c.val(),s.results),r!==t&&null!==r&&p.id(r)!==t&&null!==p.id(r)&&0===e(s.results).filter(function(){return o(p.id(this),p.id(r))}).length&&s.results.unshift(r)),0===s.results.length&&S(h.formatNoMatches,"formatNoMatches"))return a("<li class='select2-no-results'>"+h.formatNoMatches(c.val())+"</li>"),t;u.empty(),p.opts.populateResults.call(this,u,s.results,{term:c.val(),page:this.resultsPage,context:null}),s.more===!0&&S(h.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+p.opts.escapeMarkup(h.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(s,n),i(),this.opts.element.trigger({type:"select2-loaded",items:s})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){d(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children().first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){function n(){var n,i,a,o,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),o=0,s=i.length;s>o;o+=1)if(a=i[o].replace(/\s/g,"").match(/[^-]width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==a&&a.length>=1)return a[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),P=D(O,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,a;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),n=this.search.get(0),n.createTextRange?(i=n.createTextRange(),i.collapse(!1),i.select()):n.setSelectionRange&&(a=this.search.val().length,n.setSelectionRange(a,a)),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(e){this.opened()&&(this.parent.close.apply(this,arguments),e=e||{focus:!0},this.focusser.removeAttr("disabled"),e.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var n,i=this.container,a=this.dropdown;0>this.opts.minimumResultsForSearch?this.showSearch(!1):this.showSearch(!0),this.selection=n=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+M()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===A.PAGE_UP||e.which===A.PAGE_DOWN)return m(e),t;switch(e.which){case A.UP:case A.DOWN:return this.moveHighlight(e.which===A.UP?-1:1),m(e),t;case A.ENTER:return this.selectHighlighted(),m(e),t;case A.TAB:return this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),t;case A.ESC:return this.cancel(e),m(e),t}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==A.TAB&&!A.isControl(e)&&!A.isFunctionKey(e)&&e.which!==A.ESC){if(this.opts.openOnEnter===!1&&e.which===A.ENTER)return m(e),t;if(e.which==A.DOWN||e.which==A.UP||e.which==A.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),m(e),t}return e.which==A.DELETE||e.which==A.BACKSPACE?(this.opts.allowClear&&this.clear(),m(e),t):t}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),n.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),g(e),this.close(),this.selection.focus())})),n.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(t)})),a.on("mousedown",this.bind(function(){this.search.focus()})),n.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");if(t){var n=this.getPlaceholderOption();this.opts.element.val(n?n.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var e;return this.opts.placeholder?(e=this.getPlaceholderOption())!==t&&e.is(":selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val():!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find(":selected");t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var a=n.val(),s=null;t.query({matcher:function(e,n,i){var r=o(a,t.id(i));return r&&(s=i),r},callback:e.isFunction(i)?function(){i(s)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,n,i){var a=0,s=this;if(this.findHighlightableChoices().each2(function(e,n){return o(s.id(n.data("select2-data")),s.opts.element.val())?(a=e,!1):t}),i!==!1&&(n===!0&&a>=0?this.highlight(a):this.highlight(0)),n===!0){var r=this.opts.minimumResultsForSearch;r>=0&&this.showSearch(E(e.results)>=r)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||this.selection.focus(),o(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n,i,a=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),a.empty(),null!==e&&(n=this.opts.formatSelection(e,a,this.opts.escapeMarkup)),n!==t&&a.append(n),i=this.opts.formatSelectionCssClass(e,a),i!==t&&a.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,i=null,a=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find(":selected").each2(function(e,t){return i=a.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:o});else{if(!e&&0!==e)return this.clear(n),t;if(this.opts.initSelection===t)throw Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){a.opts.element.val(e?a.id(e):""),a.updateSelection(e),a.setPlaceholder(),n&&a.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,i=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(arguments.length>1&&(i=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:n})):this.clear(i),t)}}),I=D(O,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find(":selected").each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var a=s(n.val(),t.separator),r=[];t.query({matcher:function(n,i,s){var l=e.grep(a,function(e){return o(e,t.id(s))}).length;return l&&r.push(s),l},callback:e.isFunction(i)?function(){for(var e=[],n=0;a.length>n;n++)for(var s=a[n],l=0;r.length>l;l++){var c=r[l];if(o(s,t.id(c))){e.push(c),r.splice(l,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var n,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=n=this.container.find(i);var a=this;this.selection.on("click",".select2-search-choice",function(){a.search[0].focus(),a.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+M()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var i=n.find(".select2-search-choice-focus"),a=i.prev(".select2-search-choice:not(.select2-locked)"),o=i.next(".select2-search-choice:not(.select2-locked)"),s=f(this.search);if(i.length&&(e.which==A.LEFT||e.which==A.RIGHT||e.which==A.BACKSPACE||e.which==A.DELETE||e.which==A.ENTER)){var r=i;return e.which==A.LEFT&&a.length?r=a:e.which==A.RIGHT?r=o.length?o:null:e.which===A.BACKSPACE?(this.unselect(i.first()),this.search.width(10),r=a.length?a:o):e.which==A.DELETE?(this.unselect(i.first()),this.search.width(10),r=o.length?o:null):e.which==A.ENTER&&(r=null),this.selectChoice(r),m(e),r&&r.length||this.open(),t}if((e.which===A.BACKSPACE&&1==this.keydowns||e.which==A.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(n.find(".select2-search-choice:not(.select2-locked)").last()),m(e),t;if(this.selectChoice(null),this.opened())switch(e.which){case A.UP:case A.DOWN:return this.moveHighlight(e.which===A.UP?-1:1),m(e),t;case A.ENTER:return this.selectHighlighted(),m(e),t;case A.TAB:return this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),t;case A.ESC:return this.cancel(e),m(e),t}if(e.which!==A.TAB&&!A.isControl(e)&&!A.isFunctionKey(e)&&e.which!==A.BACKSPACE&&e.which!==A.ESC){if(e.which===A.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===A.PAGE_UP||e.which===A.PAGE_DOWN)&&m(e),e.which===A.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();
e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],a=[],o=this;e(t).each(function(){0>i(o.id(this),n)&&(n.push(o.id(this)),a.push(this))}),t=a,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,a,o=!n.locked,s=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?s:r,c=this.id(n),u=this.getVal();i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),i!=t&&l.find("div").replaceWith("<div>"+i+"</div>"),a=this.opts.formatSelectionCssClass(n,l.find("div")),a!=t&&l.addClass(a),o&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),m(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(e){var t,n,a=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),t&&(n=i(this.id(t),a),n>=0&&(a.splice(n,1),this.setVal(a),this.select&&this.postprocessResults()),e.remove(),this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))},postprocessResults:function(e,t,n){var a=this.getVal(),o=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),r=this;o.each2(function(e,t){var n=r.id(t.data("select2-data"));i(n,a)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&r.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&S(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+r.opts.formatNoMatches(r.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-r(this.search)},resizeSearch:function(){var e,t,n,i,a,o=r(this.search);e=v(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,a=n-(t-i)-o,e>a&&(a=n-o),40>a&&(a=n-o),0>=a&&(a=e),this.search.width(a)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),s(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){0>i(this,n)&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;t.length>n;n++)for(var i=0;e.length>i;i++)o(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var a,o=this;if(0===arguments.length)return this.getVal();if(a=this.data(),a.length||(a=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),i&&this.triggerChange({added:this.data(),removed:a}),t;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(a,this.data()));else{if(this.opts.initSelection===t)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,o.id);o.setVal(n),o.updateSelection(t),o.clearSearch(),i&&o.triggerChange(o.buildChangeDetails(a,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(n,i){var a,o,s=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(o=this.data(),n||(n=[]),a=e.map(n,function(e){return s.opts.id(e)}),this.setVal(a),this.updateSelection(n),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(o,this.data())),t)}}),e.fn.select2=function(){var n,a,o,s,r,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],h=["val","data"],p={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:e.extend({},l[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?r=n.element.prop("multiple"):(r=n.multiple||!1,"tags"in n&&(n.multiple=r=!0)),a=r?new I:new P,a.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(0>i(l[0],c))throw"Unknown method: "+l[0];if(s=t,a=e(this).data("select2"),a===t)return;if(o=l[0],"container"===o?s=a.container:"dropdown"===o?s=a.dropdown:(p[o]&&(o=p[o]),s=a[o].apply(a,l.slice(1))),i(l[0],u)>=0||i(l[0],h)&&1==l.length)return!1}}),s===t?this:s},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var a=[];return w(e.text,n.term,a,i),a.join("")},formatSelection:function(e,n,i){return e?i(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatSelectionCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:T,escapeMarkup:y,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:$,local:C,tags:k},util:{debounce:u,markMatch:w,escapeMarkup:y,stripDiacritics:n},"class":{"abstract":O,single:P,multi:I}}}}(jQuery),angular.module("ui.select2",[]).value("uiSelect2Config",{}).directive("uiSelect2",["uiSelect2Config","$timeout",function(e,t){var n={};return e&&angular.extend(n,e),{require:"?ngModel",compile:function(e,i){var a,o,s,r=e.is("select"),l=void 0!==i.multiple;return e.is("select")&&(o=e.find("option[ng-repeat], option[data-ng-repeat]"),o.length&&(s=o.attr("ng-repeat")||o.attr("data-ng-repeat"),a=jQuery.trim(s.split("|")[0]).split(" ").pop())),function(e,i,o,s){var c=angular.extend({},n,e.$eval(o.uiSelect2));if(r?(delete c.multiple,delete c.initSelection):l&&(c.multiple=!0),s&&(s.$render=function(){r?i.select2("val",s.$viewValue):l?s.$viewValue?angular.isArray(s.$viewValue)?i.select2("data",s.$viewValue):i.select2("val",s.$viewValue):i.select2("data",[]):angular.isObject(s.$viewValue)?i.select2("data",s.$viewValue):s.$viewValue?i.select2("val",s.$viewValue):i.select2("data",null)},a&&e.$watch(a,function(e){e&&t(function(){i.select2("val",s.$viewValue),i.trigger("change")})}),s.$parsers.push(function(e){var t=i.prev();return t.toggleClass("ng-invalid",!s.$valid).toggleClass("ng-valid",s.$valid).toggleClass("ng-invalid-required",!s.$valid).toggleClass("ng-valid-required",s.$valid).toggleClass("ng-dirty",s.$dirty).toggleClass("ng-pristine",s.$pristine),e}),!r&&(i.bind("change",function(){e.$$phase||e.$apply(function(){s.$setViewValue(i.select2("data"))})}),c.initSelection))){var u=c.initSelection;c.initSelection=function(e,t){u(e,function(e){s.$setViewValue(e),t(e)})}}o.$observe("disabled",function(e){i.select2("enable",!e)}),o.$observe("readonly",function(e){i.select2("readonly",!!e)}),o.ngMultiple&&e.$watch(o.ngMultiple,function(){i.select2(c)}),t(function(){i.select2(c),i.val(s.$viewValue),s.$render(),c.initSelection||r||s.$setViewValue(i.select2("data"))})}}}}]);